<!DOCTYPE html><head><title>LittleDarwin Aggregate Mutation Report</title> <style type='text/css'> body { font-family: "Carlito", "Calibri", "Helvetica Neue", sans-serif;}
                    .code { font-family: monospace; font-size: medium; }
                    .methodLine { background: white; }
                    .outsideLine { background: lightgray; } 
                    .tooltip { position: relative; display: inline-block; }
                    .tooltip .tooltiptext { visibility: hidden; display: block;
                        background-color: #006400; color: #ffffff; text-align: left;
                        border-radius: 0.3em; padding: 0.5em 0.5em; position: absolute; top: 125%; z-index: 200;}
                    .tooltip:hover .tooltiptext { visibility: visible; } .RelationalOperatorReplacement { background: #FFA07A; } .ArithmeticOperatorReplacementShortcut { background: #FF00FF; } .GenericTraditionalMutationOperator { background: #FFFFF0; } .ArithmeticOperatorReplacementBinary { background: #FFB6C1; } .ConditionalOperatorDeletion { background: #FFD700; } .NullifyInputVariable { background: #90EE90; } .ArithmeticOperatorReplacementUnary { background: #DDA0DD; } .NullifyReturnValue { background: #E0FFFF; } .AssignmentOperatorReplacementShortcut { background: #B0C4DE; } .NullifyObjectInitialization { background: #F08080; } .LogicalOperatorReplacement { background: #F0E68C; } .RemoveNullCheck { background: #ADD8E6; } .ConditionalOperatorReplacement { background: #87CEFA; } .ShiftOperatorReplacement { background: #9ACD32; } .RemoveMethod { background: #FF00D4; } </style></head><body><h1>LittleDarwin Aggregate Mutation Report</h1><p>Average Density: 0.35</p><div><pre class="code"><span class="outsideLine"><i>0001</i> /*                                                                                                                                  
</span><span class="outsideLine"><i>0002</i>  * Licensed to the Apache Software Foundation (ASF) under one or more                                                               
</span><span class="outsideLine"><i>0003</i>  * contributor license agreements.  See the NOTICE file distributed with                                                            
</span><span class="outsideLine"><i>0004</i>  * this work for additional information regarding copyright ownership.                                                              
</span><span class="outsideLine"><i>0005</i>  * The ASF licenses this file to You under the Apache License, Version 2.0                                                          
</span><span class="outsideLine"><i>0006</i>  * (the "License"); you may not use this file except in compliance with                                                             
</span><span class="outsideLine"><i>0007</i>  * the License.  You may obtain a copy of the License at                                                                            
</span><span class="outsideLine"><i>0008</i>  *                                                                                                                                  
</span><span class="outsideLine"><i>0009</i>  *      http://www.apache.org/licenses/LICENSE-2.0                                                                                  
</span><span class="outsideLine"><i>0010</i>  *                                                                                                                                  
</span><span class="outsideLine"><i>0011</i>  * Unless required by applicable law or agreed to in writing, software                                                              
</span><span class="outsideLine"><i>0012</i>  * distributed under the License is distributed on an "AS IS" BASIS,                                                                
</span><span class="outsideLine"><i>0013</i>  * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.                                                         
</span><span class="outsideLine"><i>0014</i>  * See the License for the specific language governing permissions and                                                              
</span><span class="outsideLine"><i>0015</i>  * limitations under the License.                                                                                                   
</span><span class="outsideLine"><i>0016</i>  */                                                                                                                                 
</span><span class="outsideLine"><i>0017</i> package org.apache.pdfbox.multipdf;                                                                                                 
</span><span class="outsideLine"><i>0018</i>                                                                                                                                     
</span><span class="outsideLine"><i>0019</i> import java.io.File;                                                                                                                
</span><span class="outsideLine"><i>0020</i> import java.io.FileNotFoundException;                                                                                               
</span><span class="outsideLine"><i>0021</i> import java.io.IOException;                                                                                                         
</span><span class="outsideLine"><i>0022</i> import java.io.InputStream;                                                                                                         
</span><span class="outsideLine"><i>0023</i> import java.io.OutputStream;                                                                                                        
</span><span class="outsideLine"><i>0024</i> import java.util.ArrayList;                                                                                                         
</span><span class="outsideLine"><i>0025</i> import java.util.Arrays;                                                                                                            
</span><span class="outsideLine"><i>0026</i> import java.util.Collections;                                                                                                       
</span><span class="outsideLine"><i>0027</i> import java.util.HashMap;                                                                                                           
</span><span class="outsideLine"><i>0028</i> import java.util.HashSet;                                                                                                           
</span><span class="outsideLine"><i>0029</i> import java.util.LinkedHashMap;                                                                                                     
</span><span class="outsideLine"><i>0030</i> import java.util.List;                                                                                                              
</span><span class="outsideLine"><i>0031</i> import java.util.Map;                                                                                                               
</span><span class="outsideLine"><i>0032</i> import java.util.Set;                                                                                                               
</span><span class="outsideLine"><i>0033</i>                                                                                                                                     
</span><span class="outsideLine"><i>0034</i> import org.apache.commons.logging.Log;                                                                                              
</span><span class="outsideLine"><i>0035</i> import org.apache.commons.logging.LogFactory;                                                                                       
</span><span class="outsideLine"><i>0036</i>                                                                                                                                     
</span><span class="outsideLine"><i>0037</i> import org.apache.pdfbox.cos.COSArray;                                                                                              
</span><span class="outsideLine"><i>0038</i> import org.apache.pdfbox.cos.COSBase;                                                                                               
</span><span class="outsideLine"><i>0039</i> import org.apache.pdfbox.cos.COSDictionary;                                                                                         
</span><span class="outsideLine"><i>0040</i> import org.apache.pdfbox.cos.COSInteger;                                                                                            
</span><span class="outsideLine"><i>0041</i> import org.apache.pdfbox.cos.COSName;                                                                                               
</span><span class="outsideLine"><i>0042</i> import org.apache.pdfbox.cos.COSNumber;                                                                                             
</span><span class="outsideLine"><i>0043</i> import org.apache.pdfbox.cos.COSObject;                                                                                             
</span><span class="outsideLine"><i>0044</i> import org.apache.pdfbox.cos.COSStream;                                                                                             
</span><span class="outsideLine"><i>0045</i> import org.apache.pdfbox.io.IOUtils;                                                                                                
</span><span class="outsideLine"><i>0046</i> import org.apache.pdfbox.io.MemoryUsageSetting;                                                                                     
</span><span class="outsideLine"><i>0047</i> import org.apache.pdfbox.pdmodel.PDDocument;                                                                                        
</span><span class="outsideLine"><i>0048</i> import org.apache.pdfbox.pdmodel.PDDocumentCatalog;                                                                                 
</span><span class="outsideLine"><i>0049</i> import org.apache.pdfbox.pdmodel.PDDocumentInformation;                                                                             
</span><span class="outsideLine"><i>0050</i> import org.apache.pdfbox.pdmodel.PDDocumentNameDestinationDictionary;                                                               
</span><span class="outsideLine"><i>0051</i> import org.apache.pdfbox.pdmodel.PDDocumentNameDictionary;                                                                          
</span><span class="outsideLine"><i>0052</i> import org.apache.pdfbox.pdmodel.PDPage;                                                                                            
</span><span class="outsideLine"><i>0053</i> import org.apache.pdfbox.pdmodel.PDResources;                                                                                       
</span><span class="outsideLine"><i>0054</i> import org.apache.pdfbox.pdmodel.PDStructureElementNameTreeNode;                                                                    
</span><span class="outsideLine"><i>0055</i> import org.apache.pdfbox.pdmodel.PageMode;                                                                                          
</span><span class="outsideLine"><i>0056</i> import org.apache.pdfbox.pdmodel.common.COSObjectable;                                                                              
</span><span class="outsideLine"><i>0057</i> import org.apache.pdfbox.pdmodel.common.PDDestinationOrAction;                                                                      
</span><span class="outsideLine"><i>0058</i> import org.apache.pdfbox.pdmodel.common.PDMetadata;                                                                                 
</span><span class="outsideLine"><i>0059</i> import org.apache.pdfbox.pdmodel.common.PDNameTreeNode;                                                                             
</span><span class="outsideLine"><i>0060</i> import org.apache.pdfbox.pdmodel.common.PDNumberTreeNode;                                                                           
</span><span class="outsideLine"><i>0061</i> import org.apache.pdfbox.pdmodel.common.PDStream;                                                                                   
</span><span class="outsideLine"><i>0062</i> import org.apache.pdfbox.pdmodel.documentinterchange.logicalstructure.PDMarkInfo;                                                   
</span><span class="outsideLine"><i>0063</i> import org.apache.pdfbox.pdmodel.documentinterchange.logicalstructure.PDParentTreeValue;                                            
</span><span class="outsideLine"><i>0064</i> import org.apache.pdfbox.pdmodel.documentinterchange.logicalstructure.PDStructureElement;                                           
</span><span class="outsideLine"><i>0065</i> import org.apache.pdfbox.pdmodel.documentinterchange.logicalstructure.PDStructureTreeRoot;                                          
</span><span class="outsideLine"><i>0066</i> import org.apache.pdfbox.pdmodel.graphics.color.PDOutputIntent;                                                                     
</span><span class="outsideLine"><i>0067</i> import org.apache.pdfbox.pdmodel.interactive.action.PDActionGoTo;                                                                   
</span><span class="outsideLine"><i>0068</i> import org.apache.pdfbox.pdmodel.interactive.annotation.PDAnnotation;                                                               
</span><span class="outsideLine"><i>0069</i> import org.apache.pdfbox.pdmodel.interactive.annotation.PDAnnotationWidget;                                                         
</span><span class="outsideLine"><i>0070</i> import org.apache.pdfbox.pdmodel.interactive.documentnavigation.destination.PDDestination;                                          
</span><span class="outsideLine"><i>0071</i> import org.apache.pdfbox.pdmodel.interactive.documentnavigation.destination.PDPageDestination;                                      
</span><span class="outsideLine"><i>0072</i> import org.apache.pdfbox.pdmodel.interactive.documentnavigation.outline.PDDocumentOutline;                                          
</span><span class="outsideLine"><i>0073</i> import org.apache.pdfbox.pdmodel.interactive.documentnavigation.outline.PDOutlineItem;                                              
</span><span class="outsideLine"><i>0074</i> import org.apache.pdfbox.pdmodel.interactive.form.PDAcroForm;                                                                       
</span><span class="outsideLine"><i>0075</i> import org.apache.pdfbox.pdmodel.interactive.form.PDField;                                                                          
</span><span class="outsideLine"><i>0076</i> import org.apache.pdfbox.pdmodel.interactive.form.PDNonTerminalField;                                                               
</span><span class="outsideLine"><i>0077</i> import org.apache.pdfbox.pdmodel.interactive.viewerpreferences.PDViewerPreferences;                                                 
</span><span class="outsideLine"><i>0078</i>                                                                                                                                     
</span><span class="outsideLine"><i>0079</i> /**                                                                                                                                 
</span><span class="outsideLine"><i>0080</i>  * This class will take a list of pdf documents and merge them, saving the                                                          
</span><span class="outsideLine"><i>0081</i>  * result in a new document.                                                                                                        
</span><span class="outsideLine"><i>0082</i>  *                                                                                                                                  
</span><span class="outsideLine"><i>0083</i>  * @author Ben Litchfield                                                                                                           
</span><span class="outsideLine"><i>0084</i>  */                                                                                                                                 
</span><span class="outsideLine"><i>0085</i> public class PDFMergerUtility                                                                                                       
</span><span class="outsideLine"><i>0086</i> {                                                                                                                                   
</span><span class="outsideLine"><i>0087</i>     /**                                                                                                                             
</span><span class="outsideLine"><i>0088</i>      * Log instance.                                                                                                                
</span><span class="outsideLine"><i>0089</i>      */                                                                                                                             
</span><span class="outsideLine"><i>0090</i>     private static final Log LOG = LogFactory.getLog(PDFMergerUtility.class);                                                       
</span><span class="outsideLine"><i>0091</i>                                                                                                                                     
</span><span class="outsideLine"><i>0092</i>     private final List<Object> sources;                                                                                             
</span><span class="outsideLine"><i>0093</i>     private String destinationFileName;                                                                                             
</span><span class="outsideLine"><i>0094</i>     private OutputStream destinationStream;                                                                                         
</span><span class="outsideLine"><i>0095</i>     private boolean ignoreAcroFormErrors = false;                                                                                   
</span><span class="outsideLine"><i>0096</i>     private PDDocumentInformation destinationDocumentInformation = null;                                                            
</span><span class="outsideLine"><i>0097</i>     private PDMetadata destinationMetadata = null;                                                                                  
</span><span class="outsideLine"><i>0098</i>                                                                                                                                     
</span><span class="outsideLine"><i>0099</i>     private DocumentMergeMode documentMergeMode = DocumentMergeMode.PDFBOX_LEGACY_MODE;                                             
</span><span class="outsideLine"><i>0100</i>     private AcroFormMergeMode acroFormMergeMode = AcroFormMergeMode.PDFBOX_LEGACY_MODE;                                             
</span><span class="outsideLine"><i>0101</i>                                                                                                                                     
</span><span class="outsideLine"><i>0102</i>     /**                                                                                                                             
</span><span class="outsideLine"><i>0103</i>      * The mode to use when merging documents:                                                                                      
</span><span class="outsideLine"><i>0104</i>      *                                                                                                                              
</span><span class="outsideLine"><i>0105</i>      * <ul>                                                                                                                         
</span><span class="outsideLine"><i>0106</i>      * <li>{@link DocumentMergeMode#OPTIMIZE_RESOURCES_MODE} Optimizes resource handling such as                                    
</span><span class="outsideLine"><i>0107</i>      *      closing documents early. <strong>Not all document elements are merged</strong> compared to                              
</span><span class="outsideLine"><i>0108</i>      *      the PDFBOX_LEGACY_MODE. Currently supported are:                                                                        
</span><span class="outsideLine"><i>0109</i>      *      <ul>                                                                                                                    
</span><span class="outsideLine"><i>0110</i>      *          <li>Page content and resources                                                                                      
</span><span class="outsideLine"><i>0111</i>      *      </ul>                                                                                                                   
</span><span class="outsideLine"><i>0112</i>      * <li>{@link DocumentMergeMode#PDFBOX_LEGACY_MODE} Keeps all files open until the                                              
</span><span class="outsideLine"><i>0113</i>      *      merge has been completed. This is  currently necessary to merge documents                                               
</span><span class="outsideLine"><i>0114</i>      *      containing a Structure Tree. <br>This is the standard mode for PDFBox 2.0.                                              
</span><span class="outsideLine"><i>0115</i>      * </ul>                                                                                                                        
</span><span class="outsideLine"><i>0116</i>      */                                                                                                                             
</span><span class="outsideLine"><i>0117</i>     public enum DocumentMergeMode                                                                                                   
</span><span class="outsideLine"><i>0118</i>     {                                                                                                                               
</span><span class="outsideLine"><i>0119</i>         OPTIMIZE_RESOURCES_MODE,                                                                                                    
</span><span class="outsideLine"><i>0120</i>         PDFBOX_LEGACY_MODE                                                                                                          
</span><span class="outsideLine"><i>0121</i>     }                                                                                                                               
</span><span class="outsideLine"><i>0122</i>                                                                                                                                     
</span><span class="outsideLine"><i>0123</i>     /**                                                                                                                             
</span><span class="outsideLine"><i>0124</i>      * The mode to use when merging AcroForm between documents:                                                                     
</span><span class="outsideLine"><i>0125</i>      *                                                                                                                              
</span><span class="outsideLine"><i>0126</i>      * <ul>                                                                                                                         
</span><span class="outsideLine"><i>0127</i>      * <li>{@link AcroFormMergeMode#JOIN_FORM_FIELDS_MODE} fields with the same fully qualified name                                
</span><span class="outsideLine"><i>0128</i>      *      will be merged into one with the widget annotations of the merged fields                                                
</span><span class="outsideLine"><i>0129</i>      *      becoming part of the same field.<br>                                                                                    
</span><span class="outsideLine"><i>0130</i>      *      <strong>Although the API is finalized processing of different form field types is still in                              
</span><span class="outsideLine"><i>0131</i>      *      development.</strong> Currently only (nested) text fields do work with intermediate nodes                               
</span><span class="outsideLine"><i>0132</i>      *      being existent.                                                                                                         
</span><span class="outsideLine"><i>0133</i>      * <li>{@link AcroFormMergeMode#PDFBOX_LEGACY_MODE} fields with the same fully qualified name                                   
</span><span class="outsideLine"><i>0134</i>      *      will be renamed and treated as independent. This mode was used in versions                                              
</span><span class="outsideLine"><i>0135</i>      *      of PDFBox up to 2.x.                                                                                                    
</span><span class="outsideLine"><i>0136</i>      * </ul>                                                                                                                        
</span><span class="outsideLine"><i>0137</i>      */                                                                                                                             
</span><span class="outsideLine"><i>0138</i>     public enum AcroFormMergeMode                                                                                                   
</span><span class="outsideLine"><i>0139</i>     {                                                                                                                               
</span><span class="outsideLine"><i>0140</i>         JOIN_FORM_FIELDS_MODE,                                                                                                      
</span><span class="outsideLine"><i>0141</i>         PDFBOX_LEGACY_MODE                                                                                                          
</span><span class="outsideLine"><i>0142</i>     }                                                                                                                               
</span><span class="outsideLine"><i>0143</i>                                                                                                                                     
</span><span class="outsideLine"><i>0144</i>     /**                                                                                                                             
</span><span class="outsideLine"><i>0145</i>      * Instantiate a new PDFMergerUtility.                                                                                          
</span><span class="outsideLine"><i>0146</i>      */                                                                                                                             
</span><span class="outsideLine"><i>0147</i>     public PDFMergerUtility()                                                                                                       
</span><span class="methodLine"><i>0148</i>     {                                                                                                                               
</span><span class="methodLine"><i>0149</i>         sources = <span class="NullifyObjectInitialization tooltip"><span class="tooltiptext">Mutated Text: null 
Mutation Operator Type: NullifyObjectInitialization 
Node ID: 4430</span>new ArrayList<Object>()</span>;                                                                                          
</span><span class="methodLine"><i>0150</i>     }                                                                                                                               
</span><span class="outsideLine"><i>0151</i>                                                                                                                                     
</span><span class="outsideLine"><i>0152</i>     /**                                                                                                                             
</span><span class="outsideLine"><i>0153</i>      * Get the merge mode to be used for merging AcroForms between documents                                                        
</span><span class="outsideLine"><i>0154</i>      *                                                                                                                              
</span><span class="outsideLine"><i>0155</i>      * {@link AcroFormMergeMode}                                                                                                    
</span><span class="outsideLine"><i>0156</i>      */                                                                                                                             
</span><span class="outsideLine"><i>0157</i>     public AcroFormMergeMode getAcroFormMergeMode()                                                                                 
</span><span class="methodLine"><i>0158</i>     <span class="RemoveMethod tooltip"><span class="tooltiptext">Mutated Text: {
    return null;
}
 
Mutation Operator Type: RemoveMethod 
Node ID: 1154</span>{                                                                                                                               
</span><span class="methodLine"><i>0159</i>         <span class="NullifyReturnValue tooltip"><span class="tooltiptext">Mutated Text: return null; 
Mutation Operator Type: NullifyReturnValue 
Node ID: 2120</span>return acroFormMergeMode;</span>                                                                                                   
</span><span class="methodLine"><i>0160</i>     }</span>                                                                                                                               
</span><span class="outsideLine"><i>0161</i>                                                                                                                                     
</span><span class="outsideLine"><i>0162</i>     /**                                                                                                                             
</span><span class="outsideLine"><i>0163</i>      * Set the merge mode to be used for merging AcroForms between documents                                                        
</span><span class="outsideLine"><i>0164</i>      *                                                                                                                              
</span><span class="outsideLine"><i>0165</i>      * {@link AcroFormMergeMode}                                                                                                    
</span><span class="outsideLine"><i>0166</i>      */                                                                                                                             
</span><span class="outsideLine"><i>0167</i>     public void setAcroFormMergeMode(AcroFormMergeMode theAcroFormMergeMode)                                                        
</span><span class="methodLine"><i>0168</i>     <span class="RemoveMethod tooltip"><span class="tooltiptext">Mutated Text: {
// void -- no return //
}
 
Mutation Operator Type: RemoveMethod 
Node ID: 1159</span>{</span>                                                                                                                               
</span><span class="methodLine"><i>0169</i>         this.acroFormMergeMode = theAcroFormMergeMode;                                                                              
</span><span class="methodLine"><i>0170</i>     }</span>                                                                                                                               
</span><span class="outsideLine"><i>0171</i>                                                                                                                                     
</span><span class="outsideLine"><i>0172</i>     /**                                                                                                                             
</span><span class="outsideLine"><i>0173</i>      * Set the merge mode to be used for merging documents                                                                          
</span><span class="outsideLine"><i>0174</i>      *                                                                                                                              
</span><span class="outsideLine"><i>0175</i>      * {@link DocumentMergeMode}                                                                                                    
</span><span class="outsideLine"><i>0176</i>      */                                                                                                                             
</span><span class="outsideLine"><i>0177</i>     public void setDocumentMergeMode(DocumentMergeMode theDocumentMergeMode)                                                        
</span><span class="methodLine"><i>0178</i>     <span class="RemoveMethod tooltip"><span class="tooltiptext">Mutated Text: {
// void -- no return //
}
 
Mutation Operator Type: RemoveMethod 
Node ID: 1164</span>{</span>                                                                                                                               
</span><span class="methodLine"><i>0179</i>         this.documentMergeMode = theDocumentMergeMode;                                                                              
</span><span class="methodLine"><i>0180</i>     }</span>                                                                                                                               
</span><span class="outsideLine"><i>0181</i>                                                                                                                                     
</span><span class="outsideLine"><i>0182</i>     /**                                                                                                                             
</span><span class="outsideLine"><i>0183</i>      * Get the merge mode to be used for merging documents                                                                          
</span><span class="outsideLine"><i>0184</i>      *                                                                                                                              
</span><span class="outsideLine"><i>0185</i>      * {@link DocumentMergeMode}                                                                                                    
</span><span class="outsideLine"><i>0186</i>      */                                                                                                                             
</span><span class="outsideLine"><i>0187</i>     public DocumentMergeMode getDocumentMergeMode()                                                                                 
</span><span class="methodLine"><i>0188</i>     <span class="RemoveMethod tooltip"><span class="tooltiptext">Mutated Text: {
    return null;
}
 
Mutation Operator Type: RemoveMethod 
Node ID: 1169</span>{                                                                                                                               
</span><span class="methodLine"><i>0189</i>         <span class="NullifyReturnValue tooltip"><span class="tooltiptext">Mutated Text: return null; 
Mutation Operator Type: NullifyReturnValue 
Node ID: 2127</span>return documentMergeMode;</span>                                                                                                   
</span><span class="methodLine"><i>0190</i>     }</span>                                                                                                                               
</span><span class="outsideLine"><i>0191</i>                                                                                                                                     
</span><span class="outsideLine"><i>0192</i>     /**                                                                                                                             
</span><span class="outsideLine"><i>0193</i>      * Get the name of the destination file.                                                                                        
</span><span class="outsideLine"><i>0194</i>      *                                                                                                                              
</span><span class="outsideLine"><i>0195</i>      * @return Returns the destination.                                                                                             
</span><span class="outsideLine"><i>0196</i>      */                                                                                                                             
</span><span class="outsideLine"><i>0197</i>     public String getDestinationFileName()                                                                                          
</span><span class="methodLine"><i>0198</i>     <span class="RemoveMethod tooltip"><span class="tooltiptext">Mutated Text: {
    return "A";
}
 
Mutation Operator Type: RemoveMethod 
Node ID: 1174</span>{                                                                                                                               
</span><span class="methodLine"><i>0199</i>         <span class="NullifyReturnValue tooltip"><span class="tooltiptext">Mutated Text: return null; 
Mutation Operator Type: NullifyReturnValue 
Node ID: 2128</span>return destinationFileName;</span>                                                                                                 
</span><span class="methodLine"><i>0200</i>     }</span>                                                                                                                               
</span><span class="outsideLine"><i>0201</i>                                                                                                                                     
</span><span class="outsideLine"><i>0202</i>     /**                                                                                                                             
</span><span class="outsideLine"><i>0203</i>      * Set the name of the destination file.                                                                                        
</span><span class="outsideLine"><i>0204</i>      *                                                                                                                              
</span><span class="outsideLine"><i>0205</i>      * @param destination The destination to set.                                                                                   
</span><span class="outsideLine"><i>0206</i>      */                                                                                                                             
</span><span class="outsideLine"><i>0207</i>     public void setDestinationFileName(String destination)                                                                          
</span><span class="methodLine"><i>0208</i>     <span class="RemoveMethod tooltip"><span class="tooltiptext">Mutated Text: {
// void -- no return //
}
 
Mutation Operator Type: RemoveMethod 
Node ID: 1179</span>{</span>                                                                                                                               
</span><span class="methodLine"><i>0209</i>         destinationFileName = destination;                                                                                          
</span><span class="methodLine"><i>0210</i>     }</span>                                                                                                                               
</span><span class="outsideLine"><i>0211</i>                                                                                                                                     
</span><span class="outsideLine"><i>0212</i>     /**                                                                                                                             
</span><span class="outsideLine"><i>0213</i>      * Get the destination OutputStream.                                                                                            
</span><span class="outsideLine"><i>0214</i>      *                                                                                                                              
</span><span class="outsideLine"><i>0215</i>      * @return Returns the destination OutputStream.                                                                                
</span><span class="outsideLine"><i>0216</i>      */                                                                                                                             
</span><span class="outsideLine"><i>0217</i>     public OutputStream getDestinationStream()                                                                                      
</span><span class="methodLine"><i>0218</i>     <span class="RemoveMethod tooltip"><span class="tooltiptext">Mutated Text: {
    return null;
}
 
Mutation Operator Type: RemoveMethod 
Node ID: 1184</span>{                                                                                                                               
</span><span class="methodLine"><i>0219</i>         <span class="NullifyReturnValue tooltip"><span class="tooltiptext">Mutated Text: return null; 
Mutation Operator Type: NullifyReturnValue 
Node ID: 2132</span>return destinationStream;</span>                                                                                                   
</span><span class="methodLine"><i>0220</i>     }</span>                                                                                                                               
</span><span class="outsideLine"><i>0221</i>                                                                                                                                     
</span><span class="outsideLine"><i>0222</i>     /**                                                                                                                             
</span><span class="outsideLine"><i>0223</i>      * Set the destination OutputStream.                                                                                            
</span><span class="outsideLine"><i>0224</i>      *                                                                                                                              
</span><span class="outsideLine"><i>0225</i>      * @param destStream The destination to set.                                                                                    
</span><span class="outsideLine"><i>0226</i>      */                                                                                                                             
</span><span class="outsideLine"><i>0227</i>     public void setDestinationStream(OutputStream destStream)                                                                       
</span><span class="methodLine"><i>0228</i>     <span class="RemoveMethod tooltip"><span class="tooltiptext">Mutated Text: {
// void -- no return //
}
 
Mutation Operator Type: RemoveMethod 
Node ID: 1189</span>{</span>                                                                                                                               
</span><span class="methodLine"><i>0229</i>         destinationStream = destStream;                                                                                             
</span><span class="methodLine"><i>0230</i>     }</span>                                                                                                                               
</span><span class="outsideLine"><i>0231</i>                                                                                                                                     
</span><span class="outsideLine"><i>0232</i>     /**                                                                                                                             
</span><span class="outsideLine"><i>0233</i>      * Get the destination document information that is to be set in {@link #mergeDocuments(org.apache.pdfbox.io.MemoryUsageSetting)
</span><span class="outsideLine"><i>0234</i>      * }. The default is null, which means that it is ignored.                                                                      
</span><span class="outsideLine"><i>0235</i>      *                                                                                                                              
</span><span class="outsideLine"><i>0236</i>      * @return The destination document information.                                                                                
</span><span class="outsideLine"><i>0237</i>      */                                                                                                                             
</span><span class="outsideLine"><i>0238</i>     public PDDocumentInformation getDestinationDocumentInformation()                                                                
</span><span class="methodLine"><i>0239</i>     <span class="RemoveMethod tooltip"><span class="tooltiptext">Mutated Text: {
    return null;
}
 
Mutation Operator Type: RemoveMethod 
Node ID: 1194</span>{                                                                                                                               
</span><span class="methodLine"><i>0240</i>         <span class="NullifyReturnValue tooltip"><span class="tooltiptext">Mutated Text: return null; 
Mutation Operator Type: NullifyReturnValue 
Node ID: 2136</span>return destinationDocumentInformation;</span>                                                                                      
</span><span class="methodLine"><i>0241</i>     }</span>                                                                                                                               
</span><span class="outsideLine"><i>0242</i>                                                                                                                                     
</span><span class="outsideLine"><i>0243</i>     /**                                                                                                                             
</span><span class="outsideLine"><i>0244</i>      * Set the destination document information that is to be set in {@link #mergeDocuments(org.apache.pdfbox.io.MemoryUsageSetting)
</span><span class="outsideLine"><i>0245</i>      * }. The default is null, which means that it is ignored.                                                                      
</span><span class="outsideLine"><i>0246</i>      *                                                                                                                              
</span><span class="outsideLine"><i>0247</i>      * @param info The destination document information.                                                                            
</span><span class="outsideLine"><i>0248</i>      */                                                                                                                             
</span><span class="outsideLine"><i>0249</i>     public void setDestinationDocumentInformation(PDDocumentInformation info)                                                       
</span><span class="methodLine"><i>0250</i>     <span class="RemoveMethod tooltip"><span class="tooltiptext">Mutated Text: {
// void -- no return //
}
 
Mutation Operator Type: RemoveMethod 
Node ID: 1199</span>{</span>                                                                                                                               
</span><span class="methodLine"><i>0251</i>         destinationDocumentInformation = info;                                                                                      
</span><span class="methodLine"><i>0252</i>     }</span>                                                                                                                               
</span><span class="outsideLine"><i>0253</i>                                                                                                                                     
</span><span class="outsideLine"><i>0254</i>     /**                                                                                                                             
</span><span class="outsideLine"><i>0255</i>      * Set the destination metadata that is to be set in {@link #mergeDocuments(org.apache.pdfbox.io.MemoryUsageSetting)            
</span><span class="outsideLine"><i>0256</i>      * }. The default is null, which means that it is ignored.                                                                      
</span><span class="outsideLine"><i>0257</i>      *                                                                                                                              
</span><span class="outsideLine"><i>0258</i>      * @return The destination metadata.                                                                                            
</span><span class="outsideLine"><i>0259</i>      */                                                                                                                             
</span><span class="outsideLine"><i>0260</i>     public PDMetadata getDestinationMetadata()                                                                                      
</span><span class="methodLine"><i>0261</i>     <span class="RemoveMethod tooltip"><span class="tooltiptext">Mutated Text: {
    return null;
}
 
Mutation Operator Type: RemoveMethod 
Node ID: 1204</span>{                                                                                                                               
</span><span class="methodLine"><i>0262</i>         <span class="NullifyReturnValue tooltip"><span class="tooltiptext">Mutated Text: return null; 
Mutation Operator Type: NullifyReturnValue 
Node ID: 2140</span>return destinationMetadata;</span>                                                                                                 
</span><span class="methodLine"><i>0263</i>     }</span>                                                                                                                               
</span><span class="outsideLine"><i>0264</i>                                                                                                                                     
</span><span class="outsideLine"><i>0265</i>     /**                                                                                                                             
</span><span class="outsideLine"><i>0266</i>      * Set the destination metadata that is to be set in {@link #mergeDocuments(org.apache.pdfbox.io.MemoryUsageSetting)            
</span><span class="outsideLine"><i>0267</i>      * }. The default is null, which means that it is ignored.                                                                      
</span><span class="outsideLine"><i>0268</i>      *                                                                                                                              
</span><span class="outsideLine"><i>0269</i>      * @param meta The destination metadata.                                                                                        
</span><span class="outsideLine"><i>0270</i>      */                                                                                                                             
</span><span class="outsideLine"><i>0271</i>     public void setDestinationMetadata(PDMetadata meta)                                                                             
</span><span class="methodLine"><i>0272</i>     <span class="RemoveMethod tooltip"><span class="tooltiptext">Mutated Text: {
// void -- no return //
}
 
Mutation Operator Type: RemoveMethod 
Node ID: 1209</span>{</span>                                                                                                                               
</span><span class="methodLine"><i>0273</i>         destinationMetadata = meta;                                                                                                 
</span><span class="methodLine"><i>0274</i>     }</span>                                                                                                                               
</span><span class="outsideLine"><i>0275</i>                                                                                                                                     
</span><span class="outsideLine"><i>0276</i>     /**                                                                                                                             
</span><span class="outsideLine"><i>0277</i>      * Add a source file to the list of files to merge.                                                                             
</span><span class="outsideLine"><i>0278</i>      *                                                                                                                              
</span><span class="outsideLine"><i>0279</i>      * @param source Full path and file name of source document.                                                                    
</span><span class="outsideLine"><i>0280</i>      *                                                                                                                              
</span><span class="outsideLine"><i>0281</i>      * @throws FileNotFoundException If the file doesn't exist                                                                      
</span><span class="outsideLine"><i>0282</i>      */                                                                                                                             
</span><span class="outsideLine"><i>0283</i>     public void addSource(String source) throws FileNotFoundException                                                               
</span><span class="methodLine"><i>0284</i>     <span class="RemoveMethod tooltip"><span class="tooltiptext">Mutated Text: {
// void -- no return //
}
 
Mutation Operator Type: RemoveMethod 
Node ID: 1216</span>{</span>                                                                                                                               
</span><span class="methodLine"><i>0285</i>         addSource(<span class="NullifyObjectInitialization tooltip"><span class="tooltiptext">Mutated Text: null 
Mutation Operator Type: NullifyObjectInitialization 
Node ID: 5301</span>new File(source)</span>);                                                                                                
</span><span class="methodLine"><i>0286</i>     }</span>                                                                                                                               
</span><span class="outsideLine"><i>0287</i>                                                                                                                                     
</span><span class="outsideLine"><i>0288</i>     /**                                                                                                                             
</span><span class="outsideLine"><i>0289</i>      * Add a source file to the list of files to merge.                                                                             
</span><span class="outsideLine"><i>0290</i>      *                                                                                                                              
</span><span class="outsideLine"><i>0291</i>      * @param source File representing source document                                                                              
</span><span class="outsideLine"><i>0292</i>      *                                                                                                                              
</span><span class="outsideLine"><i>0293</i>      * @throws FileNotFoundException If the file doesn't exist                                                                      
</span><span class="outsideLine"><i>0294</i>      */                                                                                                                             
</span><span class="outsideLine"><i>0295</i>     public void addSource(File source) throws FileNotFoundException                                                                 
</span><span class="methodLine"><i>0296</i>     <span class="RemoveMethod tooltip"><span class="tooltiptext">Mutated Text: {
// void -- no return //
}
 
Mutation Operator Type: RemoveMethod 
Node ID: 1223</span>{</span>                                                                                                                               
</span><span class="methodLine"><i>0297</i>         sources.add(source);                                                                                                        
</span><span class="methodLine"><i>0298</i>     }</span>                                                                                                                               
</span><span class="outsideLine"><i>0299</i>                                                                                                                                     
</span><span class="outsideLine"><i>0300</i>     /**                                                                                                                             
</span><span class="outsideLine"><i>0301</i>      * Add a source to the list of documents to merge.                                                                              
</span><span class="outsideLine"><i>0302</i>      *                                                                                                                              
</span><span class="outsideLine"><i>0303</i>      * @param source InputStream representing source document                                                                       
</span><span class="outsideLine"><i>0304</i>      */                                                                                                                             
</span><span class="outsideLine"><i>0305</i>     public void addSource(InputStream source)                                                                                       
</span><span class="methodLine"><i>0306</i>     <span class="RemoveMethod tooltip"><span class="tooltiptext">Mutated Text: {
// void -- no return //
}
 
Mutation Operator Type: RemoveMethod 
Node ID: 1228</span>{</span>                                                                                                                               
</span><span class="methodLine"><i>0307</i>         sources.add(source);                                                                                                        
</span><span class="methodLine"><i>0308</i>     }</span>                                                                                                                               
</span><span class="outsideLine"><i>0309</i>                                                                                                                                     
</span><span class="outsideLine"><i>0310</i>     /**                                                                                                                             
</span><span class="outsideLine"><i>0311</i>      * Add a list of sources to the list of documents to merge.                                                                     
</span><span class="outsideLine"><i>0312</i>      *                                                                                                                              
</span><span class="outsideLine"><i>0313</i>      * @param sourcesList List of InputStream objects representing source                                                           
</span><span class="outsideLine"><i>0314</i>      * documents                                                                                                                    
</span><span class="outsideLine"><i>0315</i>      */                                                                                                                             
</span><span class="outsideLine"><i>0316</i>     public void addSources(List<InputStream> sourcesList)                                                                           
</span><span class="methodLine"><i>0317</i>     <span class="RemoveMethod tooltip"><span class="tooltiptext">Mutated Text: {
// void -- no return //
}
 
Mutation Operator Type: RemoveMethod 
Node ID: 1233</span>{</span>                                                                                                                               
</span><span class="methodLine"><i>0318</i>         sources.addAll(sourcesList);                                                                                                
</span><span class="methodLine"><i>0319</i>     }</span>                                                                                                                               
</span><span class="outsideLine"><i>0320</i>                                                                                                                                     
</span><span class="outsideLine"><i>0321</i>     /**                                                                                                                             
</span><span class="outsideLine"><i>0322</i>      * Merge the list of source documents, saving the result in the destination file.                                               
</span><span class="outsideLine"><i>0323</i>      *                                                                                                                              
</span><span class="outsideLine"><i>0324</i>      * @throws IOException If there is an error saving the document.                                                                
</span><span class="outsideLine"><i>0325</i>      * @deprecated use {@link #mergeDocuments(org.apache.pdfbox.io.MemoryUsageSetting) }                                            
</span><span class="outsideLine"><i>0326</i>      */                                                                                                                             
</span><span class="outsideLine"><i>0327</i>     @Deprecated                                                                                                                     
</span><span class="outsideLine"><i>0328</i>     public void mergeDocuments() throws IOException                                                                                 
</span><span class="methodLine"><i>0329</i>     <span class="RemoveMethod tooltip"><span class="tooltiptext">Mutated Text: {
// void -- no return //
}
 
Mutation Operator Type: RemoveMethod 
Node ID: 1241</span>{                                                                                                                               
</span><span class="methodLine"><i>0330</i>         mergeDocuments(MemoryUsageSetting.setupMainMemoryOnly());                                                                   
</span><span class="methodLine"><i>0331</i>     }</span>                                                                                                                               
</span><span class="outsideLine"><i>0332</i>                                                                                                                                     
</span><span class="outsideLine"><i>0333</i>     /**                                                                                                                             
</span><span class="outsideLine"><i>0334</i>      * Merge the list of source documents, saving the result in the destination                                                     
</span><span class="outsideLine"><i>0335</i>      * file.                                                                                                                        
</span><span class="outsideLine"><i>0336</i>      *                                                                                                                              
</span><span class="outsideLine"><i>0337</i>      * @param memUsageSetting defines how memory is used for buffering PDF streams;                                                 
</span><span class="outsideLine"><i>0338</i>      *                        in case of <code>null</code> unrestricted main memory is used                                         
</span><span class="outsideLine"><i>0339</i>      *                                                                                                                              
</span><span class="outsideLine"><i>0340</i>      * @throws IOException If there is an error saving the document.                                                                
</span><span class="outsideLine"><i>0341</i>      */                                                                                                                             
</span><span class="outsideLine"><i>0342</i>     public void mergeDocuments(MemoryUsageSetting memUsageSetting) throws IOException                                               
</span><span class="methodLine"><i>0343</i>     <span class="RemoveMethod tooltip"><span class="tooltiptext">Mutated Text: {
// void -- no return //
}
 
Mutation Operator Type: RemoveMethod 
Node ID: 1248</span>{</span>                                                                                                                               
</span><span class="methodLine"><i>0344</i>         if (documentMergeMode <span class="RelationalOperatorReplacement tooltip"><span class="tooltiptext">Mutated Text: != 
Mutation Operator Type: RelationalOperatorReplacement 
Node ID: 3102</span>==</span> DocumentMergeMode.PDFBOX_LEGACY_MODE)                                                              
</span><span class="methodLine"><i>0345</i>         {                                                                                                                           
</span><span class="methodLine"><i>0346</i>             legacyMergeDocuments(memUsageSetting);                                                                                  
</span><span class="methodLine"><i>0347</i>         }                                                                                                                           
</span><span class="methodLine"><i>0348</i>         else if (documentMergeMode <span class="RelationalOperatorReplacement tooltip"><span class="tooltiptext">Mutated Text: != 
Mutation Operator Type: RelationalOperatorReplacement 
Node ID: 3662</span>==</span> DocumentMergeMode.OPTIMIZE_RESOURCES_MODE)                                                    
</span><span class="methodLine"><i>0349</i>         {                                                                                                                           
</span><span class="methodLine"><i>0350</i>             optimizedMergeDocuments(memUsageSetting);                                                                               
</span><span class="methodLine"><i>0351</i>         }                                                                                                                           
</span><span class="methodLine"><i>0352</i>     }</span>                                                                                                                               
</span><span class="outsideLine"><i>0353</i>                                                                                                                                     
</span><span class="outsideLine"><i>0354</i>     private void optimizedMergeDocuments(MemoryUsageSetting memUsageSetting) throws IOException                                     
</span><span class="methodLine"><i>0355</i>     <span class="RemoveMethod tooltip"><span class="tooltiptext">Mutated Text: {
// void -- no return //
}
 
Mutation Operator Type: RemoveMethod 
Node ID: 1255</span>{</span>                                                                                                                               
</span><span class="methodLine"><i>0356</i>         PDDocument destination = null;                                                                                              
</span><span class="methodLine"><i>0357</i>         try                                                                                                                         
</span><span class="methodLine"><i>0358</i>         {                                                                                                                           
</span><span class="methodLine"><i>0359</i>             destination = <span class="NullifyObjectInitialization tooltip"><span class="tooltiptext">Mutated Text: null 
Mutation Operator Type: NullifyObjectInitialization 
Node ID: 7119</span>new PDDocument(memUsageSetting)</span>;                                                                          
</span><span class="methodLine"><i>0360</i>             PDFCloneUtility cloner = <span class="NullifyObjectInitialization tooltip"><span class="tooltiptext">Mutated Text: null 
Mutation Operator Type: NullifyObjectInitialization 
Node ID: 9009</span>new PDFCloneUtility(destination)</span>;                                                              
</span><span class="outsideLine"><i>0361</i>                                                                                                                                     
</span><span class="methodLine"><i>0362</i>             for (Object sourceObject : sources)                                                                                     
</span><span class="methodLine"><i>0363</i>             {                                                                                                                       
</span><span class="methodLine"><i>0364</i>                 PDDocument sourceDoc = null;                                                                                        
</span><span class="methodLine"><i>0365</i>                 try                                                                                                                 
</span><span class="methodLine"><i>0366</i>                 {                                                                                                                   
</span><span class="methodLine"><i>0367</i>                     if (sourceObject instanceof File)                                                                               
</span><span class="methodLine"><i>0368</i>                     {                                                                                                               
</span><span class="methodLine"><i>0369</i>                         sourceDoc = PDDocument.load((File) sourceObject, memUsageSetting);                                          
</span><span class="methodLine"><i>0370</i>                     }                                                                                                               
</span><span class="methodLine"><i>0371</i>                     else                                                                                                            
</span><span class="methodLine"><i>0372</i>                     {                                                                                                               
</span><span class="methodLine"><i>0373</i>                         sourceDoc = PDDocument.load((InputStream) sourceObject, memUsageSetting);                                   
</span><span class="methodLine"><i>0374</i>                     }                                                                                                               
</span><span class="outsideLine"><i>0375</i>                                                                                                                                     
</span><span class="methodLine"><i>0376</i>                     for (PDPage page : sourceDoc.getPages())                                                                        
</span><span class="methodLine"><i>0377</i>                     {                                                                                                               
</span><span class="methodLine"><i>0378</i>                         PDPage newPage = <span class="NullifyObjectInitialization tooltip"><span class="tooltiptext">Mutated Text: null 
Mutation Operator Type: NullifyObjectInitialization 
Node ID: 14878</span>new PDPage((COSDictionary) cloner.cloneForNewDocument(page.getCOSObject()))</span>;               
</span><span class="methodLine"><i>0379</i>                         newPage.setCropBox(page.getCropBox());                                                                      
</span><span class="methodLine"><i>0380</i>                         newPage.setMediaBox(page.getMediaBox());                                                                    
</span><span class="methodLine"><i>0381</i>                         newPage.setRotation(page.getRotation());                                                                    
</span><span class="methodLine"><i>0382</i>                         PDResources resources = page.getResources();                                                                
</span><span class="methodLine"><i>0383</i>                         if (<span class="RemoveNullCheck tooltip"><span class="tooltiptext">Mutated Text: true 
Mutation Operator Type: RemoveNullCheck 
Node ID: 13618</span>resources <span class="RelationalOperatorReplacement tooltip"><span class="tooltiptext">Mutated Text: == 
Mutation Operator Type: RelationalOperatorReplacement 
Node ID: 13618</span>!=</span> null</span>)                                                                                      
</span><span class="methodLine"><i>0384</i>                         {                                                                                                           
</span><span class="outsideLine"><i>0385</i>                             // this is smart enough to just create references for resources that are used on multiple pages         
</span><span class="methodLine"><i>0386</i>                             newPage.setResources(<span class="NullifyObjectInitialization tooltip"><span class="tooltiptext">Mutated Text: null 
Mutation Operator Type: NullifyObjectInitialization 
Node ID: 15419</span>new PDResources((COSDictionary) cloner.cloneForNewDocument(resources))</span>);           
</span><span class="methodLine"><i>0387</i>                         }                                                                                                           
</span><span class="methodLine"><i>0388</i>                         else                                                                                                        
</span><span class="methodLine"><i>0389</i>                         {                                                                                                           
</span><span class="methodLine"><i>0390</i>                             newPage.setResources(<span class="NullifyObjectInitialization tooltip"><span class="tooltiptext">Mutated Text: null 
Mutation Operator Type: NullifyObjectInitialization 
Node ID: 15422</span>new PDResources()</span>);                                                                
</span><span class="methodLine"><i>0391</i>                         }                                                                                                           
</span><span class="methodLine"><i>0392</i>                         destination.addPage(newPage);                                                                               
</span><span class="methodLine"><i>0393</i>                     }                                                                                                               
</span><span class="methodLine"><i>0394</i>                 }                                                                                                                   
</span><span class="methodLine"><i>0395</i>                 finally                                                                                                             
</span><span class="methodLine"><i>0396</i>                 {                                                                                                                   
</span><span class="methodLine"><i>0397</i>                     IOUtils.closeQuietly(sourceDoc);                                                                                
</span><span class="methodLine"><i>0398</i>                 }                                                                                                                   
</span><span class="methodLine"><i>0399</i>             }                                                                                                                       
</span><span class="outsideLine"><i>0400</i>                                                                                                                                     
</span><span class="methodLine"><i>0401</i>             if (<span class="RemoveNullCheck tooltip"><span class="tooltiptext">Mutated Text: false 
Mutation Operator Type: RemoveNullCheck 
Node ID: 5330</span>destinationStream <span class="RelationalOperatorReplacement tooltip"><span class="tooltiptext">Mutated Text: != 
Mutation Operator Type: RelationalOperatorReplacement 
Node ID: 5330</span>==</span> null</span>)                                                                                          
</span><span class="methodLine"><i>0402</i>             {                                                                                                                       
</span><span class="methodLine"><i>0403</i>                 destination.save(destinationFileName);                                                                              
</span><span class="methodLine"><i>0404</i>             }                                                                                                                       
</span><span class="methodLine"><i>0405</i>             else                                                                                                                    
</span><span class="methodLine"><i>0406</i>             {                                                                                                                       
</span><span class="methodLine"><i>0407</i>                 destination.save(destinationStream);                                                                                
</span><span class="methodLine"><i>0408</i>             }                                                                                                                       
</span><span class="methodLine"><i>0409</i>         }                                                                                                                           
</span><span class="methodLine"><i>0410</i>         finally                                                                                                                     
</span><span class="methodLine"><i>0411</i>         {                                                                                                                           
</span><span class="methodLine"><i>0412</i>             IOUtils.closeQuietly(destination);                                                                                      
</span><span class="methodLine"><i>0413</i>         }                                                                                                                           
</span><span class="methodLine"><i>0414</i>     }</span>                                                                                                                               
</span><span class="outsideLine"><i>0415</i>                                                                                                                                     
</span><span class="outsideLine"><i>0416</i>     /**                                                                                                                             
</span><span class="outsideLine"><i>0417</i>      * Merge the list of source documents, saving the result in the destination                                                     
</span><span class="outsideLine"><i>0418</i>      * file.                                                                                                                        
</span><span class="outsideLine"><i>0419</i>      *                                                                                                                              
</span><span class="outsideLine"><i>0420</i>      * @param memUsageSetting defines how memory is used for buffering PDF streams;                                                 
</span><span class="outsideLine"><i>0421</i>      *                        in case of <code>null</code> unrestricted main memory is used                                         
</span><span class="outsideLine"><i>0422</i>      *                                                                                                                              
</span><span class="outsideLine"><i>0423</i>      * @throws IOException If there is an error saving the document.                                                                
</span><span class="outsideLine"><i>0424</i>      */                                                                                                                             
</span><span class="outsideLine"><i>0425</i>     private void legacyMergeDocuments(MemoryUsageSetting memUsageSetting) throws IOException                                        
</span><span class="methodLine"><i>0426</i>     <span class="RemoveMethod tooltip"><span class="tooltiptext">Mutated Text: {
// void -- no return //
}
 
Mutation Operator Type: RemoveMethod 
Node ID: 1262</span>{</span>                                                                                                                               
</span><span class="methodLine"><i>0427</i>         PDDocument destination = null;                                                                                              
</span><span class="methodLine"><i>0428</i>         if (sources.size() <span class="RelationalOperatorReplacement tooltip"><span class="tooltiptext">Mutated Text: <= 
Mutation Operator Type: RelationalOperatorReplacement 
Node ID: 3123</span>></span> 0)                                                                                                     
</span><span class="methodLine"><i>0429</i>         {                                                                                                                           
</span><span class="outsideLine"><i>0430</i>             // Make sure that:                                                                                                      
</span><span class="outsideLine"><i>0431</i>             // - first Exception is kept                                                                                            
</span><span class="outsideLine"><i>0432</i>             // - destination is closed                                                                                              
</span><span class="outsideLine"><i>0433</i>             // - all PDDocuments are closed                                                                                         
</span><span class="outsideLine"><i>0434</i>             // - all FileInputStreams are closed                                                                                    
</span><span class="outsideLine"><i>0435</i>             // - there's a way to see which errors occurred                                                                         
</span><span class="outsideLine"><i>0436</i>                                                                                                                                     
</span><span class="methodLine"><i>0437</i>             List<PDDocument> tobeclosed = <span class="NullifyObjectInitialization tooltip"><span class="tooltiptext">Mutated Text: null 
Mutation Operator Type: NullifyObjectInitialization 
Node ID: 9887</span>new ArrayList<PDDocument>(sources.size())</span>;                                                
</span><span class="outsideLine"><i>0438</i>                                                                                                                                     
</span><span class="methodLine"><i>0439</i>             try                                                                                                                     
</span><span class="methodLine"><i>0440</i>             {                                                                                                                       
</span><span class="methodLine"><i>0441</i>                 MemoryUsageSetting partitionedMemSetting = <span class="RemoveNullCheck tooltip"><span class="tooltiptext">Mutated Text: true 
Mutation Operator Type: RemoveNullCheck 
Node ID: 12008</span>memUsageSetting <span class="RelationalOperatorReplacement tooltip"><span class="tooltiptext">Mutated Text: == 
Mutation Operator Type: RelationalOperatorReplacement 
Node ID: 12008</span>!=</span> null</span> ?                                                
</span><span class="methodLine"><i>0442</i>                         memUsageSetting.getPartitionedCopy(sources.size()<span class="ArithmeticOperatorReplacementBinary tooltip"><span class="tooltiptext">Mutated Text: - 
Mutation Operator Type: ArithmeticOperatorReplacementBinary 
Node ID: 13163</span>+</span>1) :                                                      
</span><span class="methodLine"><i>0443</i>                         MemoryUsageSetting.setupMainMemoryOnly();                                                                   
</span><span class="methodLine"><i>0444</i>                 destination = <span class="NullifyObjectInitialization tooltip"><span class="tooltiptext">Mutated Text: null 
Mutation Operator Type: NullifyObjectInitialization 
Node ID: 10591</span>new PDDocument(partitionedMemSetting)</span>;                                                                
</span><span class="outsideLine"><i>0445</i>                                                                                                                                     
</span><span class="methodLine"><i>0446</i>                 for (Object sourceObject : sources)                                                                                 
</span><span class="methodLine"><i>0447</i>                 {                                                                                                                   
</span><span class="methodLine"><i>0448</i>                     PDDocument sourceDoc = null;                                                                                    
</span><span class="methodLine"><i>0449</i>                     if (sourceObject instanceof File)                                                                               
</span><span class="methodLine"><i>0450</i>                     {                                                                                                               
</span><span class="methodLine"><i>0451</i>                         sourceDoc = PDDocument.load((File) sourceObject, partitionedMemSetting);                                    
</span><span class="methodLine"><i>0452</i>                     }                                                                                                               
</span><span class="methodLine"><i>0453</i>                     else                                                                                                            
</span><span class="methodLine"><i>0454</i>                     {                                                                                                               
</span><span class="methodLine"><i>0455</i>                         sourceDoc = PDDocument.load((InputStream) sourceObject,                                                     
</span><span class="methodLine"><i>0456</i>                                 partitionedMemSetting);                                                                             
</span><span class="methodLine"><i>0457</i>                     }                                                                                                               
</span><span class="methodLine"><i>0458</i>                     tobeclosed.add(sourceDoc);                                                                                      
</span><span class="methodLine"><i>0459</i>                     appendDocument(destination, sourceDoc);                                                                         
</span><span class="methodLine"><i>0460</i>                 }                                                                                                                   
</span><span class="outsideLine"><i>0461</i>                                                                                                                                     
</span><span class="outsideLine"><i>0462</i>                 // optionally set meta data                                                                                         
</span><span class="methodLine"><i>0463</i>                 if (<span class="RemoveNullCheck tooltip"><span class="tooltiptext">Mutated Text: true 
Mutation Operator Type: RemoveNullCheck 
Node ID: 9034</span>destinationDocumentInformation <span class="RelationalOperatorReplacement tooltip"><span class="tooltiptext">Mutated Text: == 
Mutation Operator Type: RelationalOperatorReplacement 
Node ID: 9034</span>!=</span> null</span>)                                                                         
</span><span class="methodLine"><i>0464</i>                 {                                                                                                                   
</span><span class="methodLine"><i>0465</i>                     destination.setDocumentInformation(destinationDocumentInformation);                                             
</span><span class="methodLine"><i>0466</i>                 }                                                                                                                   
</span><span class="methodLine"><i>0467</i>                 if (<span class="RemoveNullCheck tooltip"><span class="tooltiptext">Mutated Text: true 
Mutation Operator Type: RemoveNullCheck 
Node ID: 9038</span>destinationMetadata <span class="RelationalOperatorReplacement tooltip"><span class="tooltiptext">Mutated Text: == 
Mutation Operator Type: RelationalOperatorReplacement 
Node ID: 9038</span>!=</span> null</span>)                                                                                    
</span><span class="methodLine"><i>0468</i>                 {                                                                                                                   
</span><span class="methodLine"><i>0469</i>                     destination.getDocumentCatalog().setMetadata(destinationMetadata);                                              
</span><span class="methodLine"><i>0470</i>                 }                                                                                                                   
</span><span class="outsideLine"><i>0471</i>                                                                                                                                     
</span><span class="methodLine"><i>0472</i>                 if (<span class="RemoveNullCheck tooltip"><span class="tooltiptext">Mutated Text: false 
Mutation Operator Type: RemoveNullCheck 
Node ID: 9042</span>destinationStream <span class="RelationalOperatorReplacement tooltip"><span class="tooltiptext">Mutated Text: != 
Mutation Operator Type: RelationalOperatorReplacement 
Node ID: 9042</span>==</span> null</span>)                                                                                      
</span><span class="methodLine"><i>0473</i>                 {                                                                                                                   
</span><span class="methodLine"><i>0474</i>                     destination.save(destinationFileName);                                                                          
</span><span class="methodLine"><i>0475</i>                 }                                                                                                                   
</span><span class="methodLine"><i>0476</i>                 else                                                                                                                
</span><span class="methodLine"><i>0477</i>                 {                                                                                                                   
</span><span class="methodLine"><i>0478</i>                     destination.save(destinationStream);                                                                            
</span><span class="methodLine"><i>0479</i>                 }                                                                                                                   
</span><span class="methodLine"><i>0480</i>             }                                                                                                                       
</span><span class="methodLine"><i>0481</i>             finally                                                                                                                 
</span><span class="methodLine"><i>0482</i>             {                                                                                                                       
</span><span class="methodLine"><i>0483</i>                 if (<span class="RemoveNullCheck tooltip"><span class="tooltiptext">Mutated Text: true 
Mutation Operator Type: RemoveNullCheck 
Node ID: 9925</span>destination <span class="RelationalOperatorReplacement tooltip"><span class="tooltiptext">Mutated Text: == 
Mutation Operator Type: RelationalOperatorReplacement 
Node ID: 9925</span>!=</span> null</span>)                                                                                            
</span><span class="methodLine"><i>0484</i>                 {                                                                                                                   
</span><span class="methodLine"><i>0485</i>                     IOUtils.closeAndLogException(destination, LOG, "PDDocument", null);                                             
</span><span class="methodLine"><i>0486</i>                 }                                                                                                                   
</span><span class="outsideLine"><i>0487</i>                                                                                                                                     
</span><span class="methodLine"><i>0488</i>                 for (PDDocument doc : tobeclosed)                                                                                   
</span><span class="methodLine"><i>0489</i>                 {                                                                                                                   
</span><span class="methodLine"><i>0490</i>                     IOUtils.closeAndLogException(doc, LOG, "PDDocument", null);                                                     
</span><span class="methodLine"><i>0491</i>                 }                                                                                                                   
</span><span class="methodLine"><i>0492</i>             }                                                                                                                       
</span><span class="methodLine"><i>0493</i>         }                                                                                                                           
</span><span class="methodLine"><i>0494</i>     }</span>                                                                                                                               
</span><span class="outsideLine"><i>0495</i>                                                                                                                                     
</span><span class="outsideLine"><i>0496</i>     /**                                                                                                                             
</span><span class="outsideLine"><i>0497</i>      * append all pages from source to destination.                                                                                 
</span><span class="outsideLine"><i>0498</i>      *                                                                                                                              
</span><span class="outsideLine"><i>0499</i>      * @param destination the document to receive the pages                                                                         
</span><span class="outsideLine"><i>0500</i>      * @param source the document originating the new pages                                                                         
</span><span class="outsideLine"><i>0501</i>      *                                                                                                                              
</span><span class="outsideLine"><i>0502</i>      * @throws IOException If there is an error accessing data from either                                                          
</span><span class="outsideLine"><i>0503</i>      * document.                                                                                                                    
</span><span class="outsideLine"><i>0504</i>      */                                                                                                                             
</span><span class="outsideLine"><i>0505</i>     public void appendDocument(PDDocument destination, PDDocument source) throws IOException                                        
</span><span class="methodLine"><i>0506</i>     <span class="RemoveMethod tooltip"><span class="tooltiptext">Mutated Text: {
// void -- no return //
}
 
Mutation Operator Type: RemoveMethod 
Node ID: 1269</span>{</span>                                                                                                                               
</span><span class="methodLine"><i>0507</i>         if (source.getDocument().isClosed())                                                                                        
</span><span class="methodLine"><i>0508</i>         {                                                                                                                           
</span><span class="methodLine"><i>0509</i>             throw <span class="NullifyObjectInitialization tooltip"><span class="tooltiptext">Mutated Text: null 
Mutation Operator Type: NullifyObjectInitialization 
Node ID: 6334</span>new IOException("Error: source PDF is closed.")</span>;                                                                  
</span><span class="methodLine"><i>0510</i>         }                                                                                                                           
</span><span class="methodLine"><i>0511</i>         if (destination.getDocument().isClosed())                                                                                   
</span><span class="methodLine"><i>0512</i>         {                                                                                                                           
</span><span class="methodLine"><i>0513</i>             throw <span class="NullifyObjectInitialization tooltip"><span class="tooltiptext">Mutated Text: null 
Mutation Operator Type: NullifyObjectInitialization 
Node ID: 6339</span>new IOException("Error: destination PDF is closed.")</span>;                                                             
</span><span class="methodLine"><i>0514</i>         }                                                                                                                           
</span><span class="outsideLine"><i>0515</i>                                                                                                                                     
</span><span class="methodLine"><i>0516</i>         PDDocumentCatalog destCatalog = destination.getDocumentCatalog();                                                           
</span><span class="methodLine"><i>0517</i>         PDDocumentCatalog srcCatalog = source.getDocumentCatalog();                                                                 
</span><span class="outsideLine"><i>0518</i>                                                                                                                                     
</span><span class="methodLine"><i>0519</i>         if (isDynamicXfa(srcCatalog.getAcroForm()))                                                                                 
</span><span class="methodLine"><i>0520</i>         {                                                                                                                           
</span><span class="methodLine"><i>0521</i>             throw <span class="NullifyObjectInitialization tooltip"><span class="tooltiptext">Mutated Text: null 
Mutation Operator Type: NullifyObjectInitialization 
Node ID: 6350</span>new IOException("Error: can't merge source document containing dynamic XFA form content.")</span>;                       
</span><span class="methodLine"><i>0522</i>         }                                                                                                                           
</span><span class="outsideLine"><i>0523</i>                                                                                                                                     
</span><span class="methodLine"><i>0524</i>         PDDocumentInformation destInfo = destination.getDocumentInformation();                                                      
</span><span class="methodLine"><i>0525</i>         PDDocumentInformation srcInfo = source.getDocumentInformation();                                                            
</span><span class="methodLine"><i>0526</i>         mergeInto(srcInfo.getCOSObject(), destInfo.getCOSObject(), Collections.<COSName>emptySet());                                
</span><span class="outsideLine"><i>0527</i>                                                                                                                                     
</span><span class="outsideLine"><i>0528</i>         // use the highest version number for the resulting pdf                                                                     
</span><span class="methodLine"><i>0529</i>         float destVersion = destination.getVersion();                                                                               
</span><span class="methodLine"><i>0530</i>         float srcVersion = source.getVersion();                                                                                     
</span><span class="outsideLine"><i>0531</i>                                                                                                                                     
</span><span class="methodLine"><i>0532</i>         if (destVersion <span class="RelationalOperatorReplacement tooltip"><span class="tooltiptext">Mutated Text: >= 
Mutation Operator Type: RelationalOperatorReplacement 
Node ID: 3154</span><</span> srcVersion)                                                                                               
</span><span class="methodLine"><i>0533</i>         {                                                                                                                           
</span><span class="methodLine"><i>0534</i>             destination.setVersion(srcVersion);                                                                                     
</span><span class="methodLine"><i>0535</i>         }                                                                                                                           
</span><span class="outsideLine"><i>0536</i>                                                                                                                                     
</span><span class="methodLine"><i>0537</i>         int pageIndexOpenActionDest = <span class="ArithmeticOperatorReplacementUnary tooltip"><span class="tooltiptext">Mutated Text: + 
Mutation Operator Type: ArithmeticOperatorReplacementUnary 
Node ID: 5393</span>-</span>1;                                                                                           
</span><span class="methodLine"><i>0538</i>         if (<span class="RemoveNullCheck tooltip"><span class="tooltiptext">Mutated Text: false 
Mutation Operator Type: RemoveNullCheck 
Node ID: 3160</span>destCatalog.getOpenAction() <span class="RelationalOperatorReplacement tooltip"><span class="tooltiptext">Mutated Text: != 
Mutation Operator Type: RelationalOperatorReplacement 
Node ID: 3160</span>==</span> null</span>)                                                                                    
</span><span class="methodLine"><i>0539</i>         {                                                                                                                           
</span><span class="outsideLine"><i>0540</i>             // PDFBOX-3972: get local dest page index, it must be reassigned after the page cloning                                 
</span><span class="methodLine"><i>0541</i>             PDDestinationOrAction openAction = null;                                                                                
</span><span class="methodLine"><i>0542</i>             try                                                                                                                     
</span><span class="methodLine"><i>0543</i>             {                                                                                                                       
</span><span class="methodLine"><i>0544</i>                 openAction = srcCatalog.getOpenAction();                                                                            
</span><span class="methodLine"><i>0545</i>             }                                                                                                                       
</span><span class="methodLine"><i>0546</i>             catch (IOException ex)                                                                                                  
</span><span class="methodLine"><i>0547</i>             {                                                                                                                       
</span><span class="outsideLine"><i>0548</i>                 // PDFBOX-4223                                                                                                      
</span><span class="methodLine"><i>0549</i>                 LOG.error("Invalid OpenAction ignored", ex);                                                                        
</span><span class="methodLine"><i>0550</i>             }                                                                                                                       
</span><span class="methodLine"><i>0551</i>             PDDestination openActionDestination = null;                                                                             
</span><span class="methodLine"><i>0552</i>             if (openAction instanceof PDActionGoTo)                                                                                 
</span><span class="methodLine"><i>0553</i>             {                                                                                                                       
</span><span class="methodLine"><i>0554</i>                 openActionDestination = ((PDActionGoTo) openAction).getDestination();                                               
</span><span class="methodLine"><i>0555</i>             }                                                                                                                       
</span><span class="methodLine"><i>0556</i>             else if (openAction instanceof PDDestination)                                                                           
</span><span class="methodLine"><i>0557</i>             {                                                                                                                       
</span><span class="methodLine"><i>0558</i>                 openActionDestination = (PDDestination) openAction;                                                                 
</span><span class="methodLine"><i>0559</i>             }                                                                                                                       
</span><span class="outsideLine"><i>0560</i>             // note that it can also be something else, e.g. PDActionJavaScript, then do nothing.                                   
</span><span class="outsideLine"><i>0561</i>                                                                                                                                     
</span><span class="methodLine"><i>0562</i>             if (openActionDestination instanceof PDPageDestination)                                                                 
</span><span class="methodLine"><i>0563</i>             {                                                                                                                       
</span><span class="methodLine"><i>0564</i>                 PDPage page = ((PDPageDestination) openActionDestination).getPage();                                                
</span><span class="methodLine"><i>0565</i>                 if (<span class="RemoveNullCheck tooltip"><span class="tooltiptext">Mutated Text: true 
Mutation Operator Type: RemoveNullCheck 
Node ID: 9950</span>page <span class="RelationalOperatorReplacement tooltip"><span class="tooltiptext">Mutated Text: == 
Mutation Operator Type: RelationalOperatorReplacement 
Node ID: 9950</span>!=</span> null</span>)                                                                                                   
</span><span class="methodLine"><i>0566</i>                 {                                                                                                                   
</span><span class="methodLine"><i>0567</i>                     pageIndexOpenActionDest = srcCatalog.getPages().indexOf(page);                                                  
</span><span class="methodLine"><i>0568</i>                 }                                                                                                                   
</span><span class="methodLine"><i>0569</i>             }                                                                                                                       
</span><span class="outsideLine"><i>0570</i>                                                                                                                                     
</span><span class="methodLine"><i>0571</i>             destCatalog.setOpenAction(openAction);                                                                                  
</span><span class="methodLine"><i>0572</i>         }                                                                                                                           
</span><span class="outsideLine"><i>0573</i>                                                                                                                                     
</span><span class="methodLine"><i>0574</i>         PDFCloneUtility cloner = <span class="NullifyObjectInitialization tooltip"><span class="tooltiptext">Mutated Text: null 
Mutation Operator Type: NullifyObjectInitialization 
Node ID: 6403</span>new PDFCloneUtility(destination)</span>;                                                                  
</span><span class="methodLine"><i>0575</i>         mergeAcroForm(cloner, destCatalog, srcCatalog);                                                                             
</span><span class="outsideLine"><i>0576</i>                                                                                                                                     
</span><span class="methodLine"><i>0577</i>         COSArray destThreads = (COSArray) destCatalog.getCOSObject().getDictionaryObject(COSName.THREADS);                          
</span><span class="methodLine"><i>0578</i>         COSArray srcThreads = (COSArray) cloner.cloneForNewDocument(destCatalog.getCOSObject().getDictionaryObject(                 
</span><span class="methodLine"><i>0579</i>                 COSName.THREADS));                                                                                                  
</span><span class="methodLine"><i>0580</i>         if (<span class="RemoveNullCheck tooltip"><span class="tooltiptext">Mutated Text: false 
Mutation Operator Type: RemoveNullCheck 
Node ID: 3171</span>destThreads <span class="RelationalOperatorReplacement tooltip"><span class="tooltiptext">Mutated Text: != 
Mutation Operator Type: RelationalOperatorReplacement 
Node ID: 3171</span>==</span> null</span>)                                                                                                    
</span><span class="methodLine"><i>0581</i>         {                                                                                                                           
</span><span class="methodLine"><i>0582</i>             destCatalog.getCOSObject().setItem(COSName.THREADS, srcThreads);                                                        
</span><span class="methodLine"><i>0583</i>         }                                                                                                                           
</span><span class="methodLine"><i>0584</i>         else                                                                                                                        
</span><span class="methodLine"><i>0585</i>         {                                                                                                                           
</span><span class="methodLine"><i>0586</i>             destThreads.addAll(srcThreads);                                                                                         
</span><span class="methodLine"><i>0587</i>         }                                                                                                                           
</span><span class="outsideLine"><i>0588</i>                                                                                                                                     
</span><span class="methodLine"><i>0589</i>         PDDocumentNameDictionary destNames = destCatalog.getNames();                                                                
</span><span class="methodLine"><i>0590</i>         PDDocumentNameDictionary srcNames = srcCatalog.getNames();                                                                  
</span><span class="methodLine"><i>0591</i>         if (<span class="RemoveNullCheck tooltip"><span class="tooltiptext">Mutated Text: true 
Mutation Operator Type: RemoveNullCheck 
Node ID: 3180</span>srcNames <span class="RelationalOperatorReplacement tooltip"><span class="tooltiptext">Mutated Text: == 
Mutation Operator Type: RelationalOperatorReplacement 
Node ID: 3180</span>!=</span> null</span>)                                                                                                       
</span><span class="methodLine"><i>0592</i>         {                                                                                                                           
</span><span class="methodLine"><i>0593</i>             if (<span class="RemoveNullCheck tooltip"><span class="tooltiptext">Mutated Text: false 
Mutation Operator Type: RemoveNullCheck 
Node ID: 6426</span>destNames <span class="RelationalOperatorReplacement tooltip"><span class="tooltiptext">Mutated Text: != 
Mutation Operator Type: RelationalOperatorReplacement 
Node ID: 6426</span>==</span> null</span>)                                                                                                  
</span><span class="methodLine"><i>0594</i>             {                                                                                                                       
</span><span class="methodLine"><i>0595</i>                 destCatalog.getCOSObject().setItem(COSName.NAMES, cloner.cloneForNewDocument(srcNames));                            
</span><span class="methodLine"><i>0596</i>             }                                                                                                                       
</span><span class="methodLine"><i>0597</i>             else                                                                                                                    
</span><span class="methodLine"><i>0598</i>             {                                                                                                                       
</span><span class="methodLine"><i>0599</i>                 cloner.cloneMerge(srcNames, destNames);                                                                             
</span><span class="methodLine"><i>0600</i>             }                                                                                                                       
</span><span class="methodLine"><i>0601</i>         }                                                                                                                           
</span><span class="outsideLine"><i>0602</i>                                                                                                                                     
</span><span class="methodLine"><i>0603</i>         if (<span class="RemoveNullCheck tooltip"><span class="tooltiptext">Mutated Text: true 
Mutation Operator Type: RemoveNullCheck 
Node ID: 3766</span>destNames <span class="RelationalOperatorReplacement tooltip"><span class="tooltiptext">Mutated Text: == 
Mutation Operator Type: RelationalOperatorReplacement 
Node ID: 3766</span>!=</span> null</span> <span class="ConditionalOperatorReplacement tooltip"><span class="tooltiptext">Mutated Text: || 
Mutation Operator Type: ConditionalOperatorReplacement 
Node ID: 3184</span>&&</span> destNames.getCOSObject().containsKey(COSName.ID_TREE))                                             
</span><span class="methodLine"><i>0604</i>         {                                                                                                                           
</span><span class="outsideLine"><i>0605</i>             // found in 001031.pdf from PDFBOX-4417 and doesn't belong there                                                        
</span><span class="methodLine"><i>0606</i>             destNames.getCOSObject().removeItem(COSName.ID_TREE);                                                                   
</span><span class="methodLine"><i>0607</i>             LOG.warn("Removed /IDTree from /Names dictionary, doesn't belong there");                                               
</span><span class="methodLine"><i>0608</i>         }                                                                                                                           
</span><span class="outsideLine"><i>0609</i>                                                                                                                                     
</span><span class="methodLine"><i>0610</i>         PDDocumentNameDestinationDictionary srcDests = srcCatalog.getDests();                                                       
</span><span class="methodLine"><i>0611</i>         if (<span class="RemoveNullCheck tooltip"><span class="tooltiptext">Mutated Text: true 
Mutation Operator Type: RemoveNullCheck 
Node ID: 3190</span>srcDests <span class="RelationalOperatorReplacement tooltip"><span class="tooltiptext">Mutated Text: == 
Mutation Operator Type: RelationalOperatorReplacement 
Node ID: 3190</span>!=</span> null</span>)                                                                                                       
</span><span class="methodLine"><i>0612</i>         {                                                                                                                           
</span><span class="methodLine"><i>0613</i>             PDDocumentNameDestinationDictionary destDests = destCatalog.getDests();                                                 
</span><span class="methodLine"><i>0614</i>             if (<span class="RemoveNullCheck tooltip"><span class="tooltiptext">Mutated Text: false 
Mutation Operator Type: RemoveNullCheck 
Node ID: 6447</span>destDests <span class="RelationalOperatorReplacement tooltip"><span class="tooltiptext">Mutated Text: != 
Mutation Operator Type: RelationalOperatorReplacement 
Node ID: 6447</span>==</span> null</span>)                                                                                                  
</span><span class="methodLine"><i>0615</i>             {                                                                                                                       
</span><span class="methodLine"><i>0616</i>                 destCatalog.getCOSObject().setItem(COSName.DESTS, cloner.cloneForNewDocument(srcDests));                            
</span><span class="methodLine"><i>0617</i>             }                                                                                                                       
</span><span class="methodLine"><i>0618</i>             else                                                                                                                    
</span><span class="methodLine"><i>0619</i>             {                                                                                                                       
</span><span class="methodLine"><i>0620</i>                 cloner.cloneMerge(srcDests, destDests);                                                                             
</span><span class="methodLine"><i>0621</i>             }                                                                                                                       
</span><span class="methodLine"><i>0622</i>         }                                                                                                                           
</span><span class="outsideLine"><i>0623</i>                                                                                                                                     
</span><span class="methodLine"><i>0624</i>         PDDocumentOutline srcOutline = srcCatalog.getDocumentOutline();                                                             
</span><span class="methodLine"><i>0625</i>         if (<span class="RemoveNullCheck tooltip"><span class="tooltiptext">Mutated Text: true 
Mutation Operator Type: RemoveNullCheck 
Node ID: 3196</span>srcOutline <span class="RelationalOperatorReplacement tooltip"><span class="tooltiptext">Mutated Text: == 
Mutation Operator Type: RelationalOperatorReplacement 
Node ID: 3196</span>!=</span> null</span>)                                                                                                     
</span><span class="methodLine"><i>0626</i>         {                                                                                                                           
</span><span class="methodLine"><i>0627</i>             PDDocumentOutline destOutline = destCatalog.getDocumentOutline();                                                       
</span><span class="methodLine"><i>0628</i>             if (<span class="RemoveNullCheck tooltip"><span class="tooltiptext">Mutated Text: false 
Mutation Operator Type: RemoveNullCheck 
Node ID: 7289</span>destOutline <span class="RelationalOperatorReplacement tooltip"><span class="tooltiptext">Mutated Text: != 
Mutation Operator Type: RelationalOperatorReplacement 
Node ID: 7289</span>==</span> null</span> <span class="ConditionalOperatorReplacement tooltip"><span class="tooltiptext">Mutated Text: && 
Mutation Operator Type: ConditionalOperatorReplacement 
Node ID: 6458</span>||</span> <span class="RemoveNullCheck tooltip"><span class="tooltiptext">Mutated Text: false 
Mutation Operator Type: RemoveNullCheck 
Node ID: 7291</span>destOutline.getFirstChild() <span class="RelationalOperatorReplacement tooltip"><span class="tooltiptext">Mutated Text: != 
Mutation Operator Type: RelationalOperatorReplacement 
Node ID: 7291</span>==</span> null</span>)                                                         
</span><span class="methodLine"><i>0629</i>             {                                                                                                                       
</span><span class="methodLine"><i>0630</i>                 PDDocumentOutline cloned = <span class="NullifyObjectInitialization tooltip"><span class="tooltiptext">Mutated Text: null 
Mutation Operator Type: NullifyObjectInitialization 
Node ID: 12715</span>new PDDocumentOutline((COSDictionary) cloner.cloneForNewDocument(srcOutline))</span>;           
</span><span class="methodLine"><i>0631</i>                 destCatalog.setDocumentOutline(cloned);                                                                             
</span><span class="methodLine"><i>0632</i>             }                                                                                                                       
</span><span class="methodLine"><i>0633</i>             else                                                                                                                    
</span><span class="methodLine"><i>0634</i>             {                                                                                                                       
</span><span class="outsideLine"><i>0635</i>                 // search last sibling for dest, because /Last entry is sometimes wrong                                             
</span><span class="methodLine"><i>0636</i>                 PDOutlineItem destLastOutlineItem = destOutline.getFirstChild();                                                    
</span><span class="methodLine"><i>0637</i>                 while (<span class="RemoveNullCheck tooltip"><span class="tooltiptext">Mutated Text: true 
Mutation Operator Type: RemoveNullCheck 
Node ID: 10002</span>destLastOutlineItem.getNextSibling() <span class="RelationalOperatorReplacement tooltip"><span class="tooltiptext">Mutated Text: == 
Mutation Operator Type: RelationalOperatorReplacement 
Node ID: 10002</span>!=</span> null</span>)                                                                
</span><span class="methodLine"><i>0638</i>                 {                                                                                                                   
</span><span class="methodLine"><i>0639</i>                     destLastOutlineItem = destLastOutlineItem.getNextSibling();                                                     
</span><span class="methodLine"><i>0640</i>                 }                                                                                                                   
</span><span class="methodLine"><i>0641</i>                 for (PDOutlineItem item : srcOutline.children())                                                                    
</span><span class="methodLine"><i>0642</i>                 {                                                                                                                   
</span><span class="outsideLine"><i>0643</i>                     // get each child, clone its dictionary, remove siblings info,                                                  
</span><span class="outsideLine"><i>0644</i>                     // append outline item created from there                                                                       
</span><span class="methodLine"><i>0645</i>                     COSDictionary clonedDict = (COSDictionary) cloner.cloneForNewDocument(item);                                    
</span><span class="methodLine"><i>0646</i>                     clonedDict.removeItem(COSName.PREV);                                                                            
</span><span class="methodLine"><i>0647</i>                     clonedDict.removeItem(COSName.NEXT);                                                                            
</span><span class="methodLine"><i>0648</i>                     PDOutlineItem clonedItem = <span class="NullifyObjectInitialization tooltip"><span class="tooltiptext">Mutated Text: null 
Mutation Operator Type: NullifyObjectInitialization 
Node ID: 14417</span>new PDOutlineItem(clonedDict)</span>;                                                       
</span><span class="methodLine"><i>0649</i>                     destLastOutlineItem.insertSiblingAfter(clonedItem);                                                             
</span><span class="methodLine"><i>0650</i>                     destLastOutlineItem = destLastOutlineItem.getNextSibling();                                                     
</span><span class="methodLine"><i>0651</i>                 }                                                                                                                   
</span><span class="methodLine"><i>0652</i>             }                                                                                                                       
</span><span class="methodLine"><i>0653</i>         }                                                                                                                           
</span><span class="outsideLine"><i>0654</i>                                                                                                                                     
</span><span class="methodLine"><i>0655</i>         PageMode destPageMode = destCatalog.getPageMode();                                                                          
</span><span class="methodLine"><i>0656</i>         if (<span class="RemoveNullCheck tooltip"><span class="tooltiptext">Mutated Text: false 
Mutation Operator Type: RemoveNullCheck 
Node ID: 3202</span>destPageMode <span class="RelationalOperatorReplacement tooltip"><span class="tooltiptext">Mutated Text: != 
Mutation Operator Type: RelationalOperatorReplacement 
Node ID: 3202</span>==</span> null</span>)                                                                                                   
</span><span class="methodLine"><i>0657</i>         {                                                                                                                           
</span><span class="methodLine"><i>0658</i>             PageMode srcPageMode = srcCatalog.getPageMode();                                                                        
</span><span class="methodLine"><i>0659</i>             destCatalog.setPageMode(srcPageMode);                                                                                   
</span><span class="methodLine"><i>0660</i>         }                                                                                                                           
</span><span class="outsideLine"><i>0661</i>                                                                                                                                     
</span><span class="methodLine"><i>0662</i>         COSDictionary destLabels = destCatalog.getCOSObject().getCOSDictionary(COSName.PAGE_LABELS);                                
</span><span class="methodLine"><i>0663</i>         COSDictionary srcLabels = srcCatalog.getCOSObject().getCOSDictionary(COSName.PAGE_LABELS);                                  
</span><span class="methodLine"><i>0664</i>         if (<span class="RemoveNullCheck tooltip"><span class="tooltiptext">Mutated Text: true 
Mutation Operator Type: RemoveNullCheck 
Node ID: 3210</span>srcLabels <span class="RelationalOperatorReplacement tooltip"><span class="tooltiptext">Mutated Text: == 
Mutation Operator Type: RelationalOperatorReplacement 
Node ID: 3210</span>!=</span> null</span>)                                                                                                      
</span><span class="methodLine"><i>0665</i>         {                                                                                                                           
</span><span class="methodLine"><i>0666</i>             int destPageCount = destination.getNumberOfPages();                                                                     
</span><span class="methodLine"><i>0667</i>             COSArray destNums;                                                                                                      
</span><span class="methodLine"><i>0668</i>             if (<span class="RemoveNullCheck tooltip"><span class="tooltiptext">Mutated Text: false 
Mutation Operator Type: RemoveNullCheck 
Node ID: 6483</span>destLabels <span class="RelationalOperatorReplacement tooltip"><span class="tooltiptext">Mutated Text: != 
Mutation Operator Type: RelationalOperatorReplacement 
Node ID: 6483</span>==</span> null</span>)                                                                                                 
</span><span class="methodLine"><i>0669</i>             {                                                                                                                       
</span><span class="methodLine"><i>0670</i>                 destLabels = <span class="NullifyObjectInitialization tooltip"><span class="tooltiptext">Mutated Text: null 
Mutation Operator Type: NullifyObjectInitialization 
Node ID: 11432</span>new COSDictionary()</span>;                                                                                   
</span><span class="methodLine"><i>0671</i>                 destNums = <span class="NullifyObjectInitialization tooltip"><span class="tooltiptext">Mutated Text: null 
Mutation Operator Type: NullifyObjectInitialization 
Node ID: 11435</span>new COSArray()</span>;                                                                                          
</span><span class="methodLine"><i>0672</i>                 destLabels.setItem(COSName.NUMS, destNums);                                                                         
</span><span class="methodLine"><i>0673</i>                 destCatalog.getCOSObject().setItem(COSName.PAGE_LABELS, destLabels);                                                
</span><span class="methodLine"><i>0674</i>             }                                                                                                                       
</span><span class="methodLine"><i>0675</i>             else                                                                                                                    
</span><span class="methodLine"><i>0676</i>             {                                                                                                                       
</span><span class="methodLine"><i>0677</i>                 destNums = (COSArray) destLabels.getDictionaryObject(COSName.NUMS);                                                 
</span><span class="methodLine"><i>0678</i>             }                                                                                                                       
</span><span class="methodLine"><i>0679</i>             COSArray srcNums = (COSArray) srcLabels.getDictionaryObject(COSName.NUMS);                                              
</span><span class="methodLine"><i>0680</i>             if (<span class="RemoveNullCheck tooltip"><span class="tooltiptext">Mutated Text: true 
Mutation Operator Type: RemoveNullCheck 
Node ID: 6490</span>srcNums <span class="RelationalOperatorReplacement tooltip"><span class="tooltiptext">Mutated Text: == 
Mutation Operator Type: RelationalOperatorReplacement 
Node ID: 6490</span>!=</span> null</span>)                                                                                                    
</span><span class="methodLine"><i>0681</i>             {                                                                                                                       
</span><span class="methodLine"><i>0682</i>                 int startSize = destNums.size();                                                                                    
</span><span class="methodLine"><i>0683</i>                 for (int i = 0; i <span class="RelationalOperatorReplacement tooltip"><span class="tooltiptext">Mutated Text: >= 
Mutation Operator Type: RelationalOperatorReplacement 
Node ID: 10034</span><</span> srcNums.size(); i <span class="AssignmentOperatorReplacementShortcut tooltip"><span class="tooltiptext">Mutated Text: -= 
Mutation Operator Type: AssignmentOperatorReplacementShortcut 
Node ID: 11468</span>+=</span> 2)                                                                         
</span><span class="methodLine"><i>0684</i>                 {                                                                                                                   
</span><span class="methodLine"><i>0685</i>                     COSBase base = srcNums.getObject(i);                                                                            
</span><span class="methodLine"><i>0686</i>                     if (<span class="ConditionalOperatorDeletion tooltip"><span class="tooltiptext">Mutated Text:   
Mutation Operator Type: ConditionalOperatorDeletion 
Node ID: 12765</span>!</span>(base instanceof COSNumber))                                                                               
</span><span class="methodLine"><i>0687</i>                     {                                                                                                               
</span><span class="methodLine"><i>0688</i>                         LOG.error("page labels ignored, index " + i + " should be a number, but is " + base);                       
</span><span class="outsideLine"><i>0689</i>                         // remove what we added                                                                                     
</span><span class="methodLine"><i>0690</i>                         while (destNums.size() <span class="RelationalOperatorReplacement tooltip"><span class="tooltiptext">Mutated Text: <= 
Mutation Operator Type: RelationalOperatorReplacement 
Node ID: 14431</span>></span> startSize)                                                                         
</span><span class="methodLine"><i>0691</i>                         {                                                                                                           
</span><span class="methodLine"><i>0692</i>                             destNums.remove(startSize);                                                                             
</span><span class="methodLine"><i>0693</i>                         }                                                                                                           
</span><span class="methodLine"><i>0694</i>                         break;                                                                                                      
</span><span class="methodLine"><i>0695</i>                     }                                                                                                               
</span><span class="methodLine"><i>0696</i>                     COSNumber labelIndex = (COSNumber) base;                                                                        
</span><span class="methodLine"><i>0697</i>                     long labelIndexValue = labelIndex.intValue();                                                                   
</span><span class="methodLine"><i>0698</i>                     destNums.add(COSInteger.get(labelIndexValue <span class="ArithmeticOperatorReplacementBinary tooltip"><span class="tooltiptext">Mutated Text: - 
Mutation Operator Type: ArithmeticOperatorReplacementBinary 
Node ID: 14445</span>+</span> destPageCount));                                                  
</span><span class="methodLine"><i>0699</i>                     destNums.add(cloner.cloneForNewDocument(srcNums.getObject(i <span class="ArithmeticOperatorReplacementBinary tooltip"><span class="tooltiptext">Mutated Text: - 
Mutation Operator Type: ArithmeticOperatorReplacementBinary 
Node ID: 14952</span>+</span> 1)));                                             
</span><span class="methodLine"><i>0700</i>                 }                                                                                                                   
</span><span class="methodLine"><i>0701</i>             }                                                                                                                       
</span><span class="methodLine"><i>0702</i>         }                                                                                                                           
</span><span class="outsideLine"><i>0703</i>                                                                                                                                     
</span><span class="methodLine"><i>0704</i>         COSStream destMetadata = destCatalog.getCOSObject().getCOSStream(COSName.METADATA);                                         
</span><span class="methodLine"><i>0705</i>         COSStream srcMetadata = srcCatalog.getCOSObject().getCOSStream(COSName.METADATA);                                           
</span><span class="methodLine"><i>0706</i>         if (<span class="RemoveNullCheck tooltip"><span class="tooltiptext">Mutated Text: false 
Mutation Operator Type: RemoveNullCheck 
Node ID: 3818</span>destMetadata <span class="RelationalOperatorReplacement tooltip"><span class="tooltiptext">Mutated Text: != 
Mutation Operator Type: RelationalOperatorReplacement 
Node ID: 3818</span>==</span> null</span> <span class="ConditionalOperatorReplacement tooltip"><span class="tooltiptext">Mutated Text: || 
Mutation Operator Type: ConditionalOperatorReplacement 
Node ID: 3218</span>&&</span> <span class="RemoveNullCheck tooltip"><span class="tooltiptext">Mutated Text: true 
Mutation Operator Type: RemoveNullCheck 
Node ID: 3820</span>srcMetadata <span class="RelationalOperatorReplacement tooltip"><span class="tooltiptext">Mutated Text: == 
Mutation Operator Type: RelationalOperatorReplacement 
Node ID: 3820</span>!=</span> null</span>)                                                                            
</span><span class="methodLine"><i>0707</i>         {                                                                                                                           
</span><span class="methodLine"><i>0708</i>             try                                                                                                                     
</span><span class="methodLine"><i>0709</i>             {                                                                                                                       
</span><span class="methodLine"><i>0710</i>                 PDStream newStream = <span class="NullifyObjectInitialization tooltip"><span class="tooltiptext">Mutated Text: null 
Mutation Operator Type: NullifyObjectInitialization 
Node ID: 12174</span>new PDStream(destination, srcMetadata.createInputStream(), (COSName) null)</span>;                    
</span><span class="methodLine"><i>0711</i>                 mergeInto(srcMetadata, newStream.getCOSObject(),                                                                    
</span><span class="methodLine"><i>0712</i>                         <span class="NullifyObjectInitialization tooltip"><span class="tooltiptext">Mutated Text: null 
Mutation Operator Type: NullifyObjectInitialization 
Node ID: 11483</span>new HashSet<COSName>(Arrays.asList(COSName.FILTER, COSName.LENGTH))</span>);                                       
</span><span class="methodLine"><i>0713</i>                 destCatalog.getCOSObject().setItem(COSName.METADATA, newStream);                                                    
</span><span class="methodLine"><i>0714</i>             }                                                                                                                       
</span><span class="methodLine"><i>0715</i>             catch (IOException ex)                                                                                                  
</span><span class="methodLine"><i>0716</i>             {                                                                                                                       
</span><span class="outsideLine"><i>0717</i>                 // PDFBOX-4227 cleartext XMP stream with /Flate                                                                     
</span><span class="methodLine"><i>0718</i>                 LOG.error("Metadata skipped because it could not be read", ex);                                                     
</span><span class="methodLine"><i>0719</i>             }                                                                                                                       
</span><span class="methodLine"><i>0720</i>         }                                                                                                                           
</span><span class="outsideLine"><i>0721</i>                                                                                                                                     
</span><span class="methodLine"><i>0722</i>         COSDictionary destOCP = destCatalog.getCOSObject().getCOSDictionary(COSName.OCPROPERTIES);                                  
</span><span class="methodLine"><i>0723</i>         COSDictionary srcOCP = srcCatalog.getCOSObject().getCOSDictionary(COSName.OCPROPERTIES);                                    
</span><span class="methodLine"><i>0724</i>         if (<span class="RemoveNullCheck tooltip"><span class="tooltiptext">Mutated Text: false 
Mutation Operator Type: RemoveNullCheck 
Node ID: 3828</span>destOCP <span class="RelationalOperatorReplacement tooltip"><span class="tooltiptext">Mutated Text: != 
Mutation Operator Type: RelationalOperatorReplacement 
Node ID: 3828</span>==</span> null</span> <span class="ConditionalOperatorReplacement tooltip"><span class="tooltiptext">Mutated Text: || 
Mutation Operator Type: ConditionalOperatorReplacement 
Node ID: 3226</span>&&</span> <span class="RemoveNullCheck tooltip"><span class="tooltiptext">Mutated Text: true 
Mutation Operator Type: RemoveNullCheck 
Node ID: 3830</span>srcOCP <span class="RelationalOperatorReplacement tooltip"><span class="tooltiptext">Mutated Text: == 
Mutation Operator Type: RelationalOperatorReplacement 
Node ID: 3830</span>!=</span> null</span>)                                                                                      
</span><span class="methodLine"><i>0725</i>         {                                                                                                                           
</span><span class="methodLine"><i>0726</i>             destCatalog.getCOSObject().setItem(COSName.OCPROPERTIES, cloner.cloneForNewDocument(srcOCP));                           
</span><span class="methodLine"><i>0727</i>         }                                                                                                                           
</span><span class="methodLine"><i>0728</i>         else if (<span class="RemoveNullCheck tooltip"><span class="tooltiptext">Mutated Text: true 
Mutation Operator Type: RemoveNullCheck 
Node ID: 4673</span>destOCP <span class="RelationalOperatorReplacement tooltip"><span class="tooltiptext">Mutated Text: == 
Mutation Operator Type: RelationalOperatorReplacement 
Node ID: 4673</span>!=</span> null</span> <span class="ConditionalOperatorReplacement tooltip"><span class="tooltiptext">Mutated Text: || 
Mutation Operator Type: ConditionalOperatorReplacement 
Node ID: 3835</span>&&</span> <span class="RemoveNullCheck tooltip"><span class="tooltiptext">Mutated Text: true 
Mutation Operator Type: RemoveNullCheck 
Node ID: 4675</span>srcOCP <span class="RelationalOperatorReplacement tooltip"><span class="tooltiptext">Mutated Text: == 
Mutation Operator Type: RelationalOperatorReplacement 
Node ID: 4675</span>!=</span> null</span>)                                                                                 
</span><span class="methodLine"><i>0729</i>         {                                                                                                                           
</span><span class="methodLine"><i>0730</i>             cloner.cloneMerge(srcOCP, destOCP);                                                                                     
</span><span class="methodLine"><i>0731</i>         }                                                                                                                           
</span><span class="outsideLine"><i>0732</i>                                                                                                                                     
</span><span class="methodLine"><i>0733</i>         mergeOutputIntents(cloner, srcCatalog, destCatalog);                                                                        
</span><span class="outsideLine"><i>0734</i>                                                                                                                                     
</span><span class="outsideLine"><i>0735</i>         // merge logical structure hierarchy                                                                                        
</span><span class="methodLine"><i>0736</i>         boolean mergeStructTree = false;                                                                                            
</span><span class="methodLine"><i>0737</i>         int destParentTreeNextKey = <span class="ArithmeticOperatorReplacementUnary tooltip"><span class="tooltiptext">Mutated Text: + 
Mutation Operator Type: ArithmeticOperatorReplacementUnary 
Node ID: 5537</span>-</span>1;                                                                                             
</span><span class="methodLine"><i>0738</i>         Map<Integer, COSObjectable> srcNumberTreeAsMap = null;                                                                      
</span><span class="methodLine"><i>0739</i>         Map<Integer, COSObjectable> destNumberTreeAsMap = null;                                                                     
</span><span class="methodLine"><i>0740</i>         PDStructureTreeRoot srcStructTree = srcCatalog.getStructureTreeRoot();                                                      
</span><span class="methodLine"><i>0741</i>         PDStructureTreeRoot destStructTree = destCatalog.getStructureTreeRoot();                                                    
</span><span class="methodLine"><i>0742</i>         if (<span class="RemoveNullCheck tooltip"><span class="tooltiptext">Mutated Text: false 
Mutation Operator Type: RemoveNullCheck 
Node ID: 3854</span>destStructTree <span class="RelationalOperatorReplacement tooltip"><span class="tooltiptext">Mutated Text: != 
Mutation Operator Type: RelationalOperatorReplacement 
Node ID: 3854</span>==</span> null</span> <span class="ConditionalOperatorReplacement tooltip"><span class="tooltiptext">Mutated Text: || 
Mutation Operator Type: ConditionalOperatorReplacement 
Node ID: 3246</span>&&</span> <span class="RemoveNullCheck tooltip"><span class="tooltiptext">Mutated Text: true 
Mutation Operator Type: RemoveNullCheck 
Node ID: 3856</span>srcStructTree <span class="RelationalOperatorReplacement tooltip"><span class="tooltiptext">Mutated Text: == 
Mutation Operator Type: RelationalOperatorReplacement 
Node ID: 3856</span>!=</span> null</span>)                                                                        
</span><span class="methodLine"><i>0743</i>         {                                                                                                                           
</span><span class="outsideLine"><i>0744</i>             // create a dummy structure tree in the destination, so that the source                                                 
</span><span class="outsideLine"><i>0745</i>             // tree is cloned. (We can't just copy the tree reference due to PDFBOX-3999)                                           
</span><span class="methodLine"><i>0746</i>             destStructTree = <span class="NullifyObjectInitialization tooltip"><span class="tooltiptext">Mutated Text: null 
Mutation Operator Type: NullifyObjectInitialization 
Node ID: 8398</span>new PDStructureTreeRoot()</span>;                                                                             
</span><span class="methodLine"><i>0747</i>             destCatalog.setStructureTreeRoot(destStructTree);                                                                       
</span><span class="methodLine"><i>0748</i>             destStructTree.setParentTree(<span class="NullifyObjectInitialization tooltip"><span class="tooltiptext">Mutated Text: null 
Mutation Operator Type: NullifyObjectInitialization 
Node ID: 9259</span>new PDNumberTreeNode(PDParentTreeValue.class)</span>);                                            
</span><span class="outsideLine"><i>0749</i>             // PDFBOX-4429: remove bogus StructParent(s)                                                                            
</span><span class="methodLine"><i>0750</i>             for (PDPage page : destCatalog.getPages())                                                                              
</span><span class="methodLine"><i>0751</i>             {                                                                                                                       
</span><span class="methodLine"><i>0752</i>                 page.getCOSObject().removeItem(COSName.STRUCT_PARENTS);                                                             
</span><span class="methodLine"><i>0753</i>                 for (PDAnnotation ann : page.getAnnotations())                                                                      
</span><span class="methodLine"><i>0754</i>                 {                                                                                                                   
</span><span class="methodLine"><i>0755</i>                     ann.getCOSObject().removeItem(COSName.STRUCT_PARENT);                                                           
</span><span class="methodLine"><i>0756</i>                 }                                                                                                                   
</span><span class="methodLine"><i>0757</i>             }                                                                                                                       
</span><span class="methodLine"><i>0758</i>         }                                                                                                                           
</span><span class="methodLine"><i>0759</i>         if (<span class="RemoveNullCheck tooltip"><span class="tooltiptext">Mutated Text: true 
Mutation Operator Type: RemoveNullCheck 
Node ID: 3250</span>destStructTree <span class="RelationalOperatorReplacement tooltip"><span class="tooltiptext">Mutated Text: == 
Mutation Operator Type: RelationalOperatorReplacement 
Node ID: 3250</span>!=</span> null</span>)                                                                                                 
</span><span class="methodLine"><i>0760</i>         {                                                                                                                           
</span><span class="methodLine"><i>0761</i>             PDNumberTreeNode destParentTree = destStructTree.getParentTree();                                                       
</span><span class="methodLine"><i>0762</i>             destParentTreeNextKey = destStructTree.getParentTreeNextKey();                                                          
</span><span class="methodLine"><i>0763</i>             if (<span class="RemoveNullCheck tooltip"><span class="tooltiptext">Mutated Text: true 
Mutation Operator Type: RemoveNullCheck 
Node ID: 6567</span>destParentTree <span class="RelationalOperatorReplacement tooltip"><span class="tooltiptext">Mutated Text: == 
Mutation Operator Type: RelationalOperatorReplacement 
Node ID: 6567</span>!=</span> null</span>)                                                                                             
</span><span class="methodLine"><i>0764</i>             {                                                                                                                       
</span><span class="methodLine"><i>0765</i>                 destNumberTreeAsMap = getNumberTreeAsMap(destParentTree);                                                           
</span><span class="methodLine"><i>0766</i>                 if (destParentTreeNextKey <span class="RelationalOperatorReplacement tooltip"><span class="tooltiptext">Mutated Text: >= 
Mutation Operator Type: RelationalOperatorReplacement 
Node ID: 10086</span><</span> 0)                                                                                      
</span><span class="methodLine"><i>0767</i>                 {                                                                                                                   
</span><span class="methodLine"><i>0768</i>                     if (destNumberTreeAsMap.isEmpty())                                                                              
</span><span class="methodLine"><i>0769</i>                     {                                                                                                               
</span><span class="methodLine"><i>0770</i>                         destParentTreeNextKey = 0;                                                                                  
</span><span class="methodLine"><i>0771</i>                     }                                                                                                               
</span><span class="methodLine"><i>0772</i>                     else                                                                                                            
</span><span class="methodLine"><i>0773</i>                     {                                                                                                               
</span><span class="methodLine"><i>0774</i>                         destParentTreeNextKey = Collections.max(destNumberTreeAsMap.keySet()) <span class="ArithmeticOperatorReplacementBinary tooltip"><span class="tooltiptext">Mutated Text: - 
Mutation Operator Type: ArithmeticOperatorReplacementBinary 
Node ID: 14739</span>+</span> 1;                                  
</span><span class="methodLine"><i>0775</i>                     }                                                                                                               
</span><span class="methodLine"><i>0776</i>                 }                                                                                                                   
</span><span class="methodLine"><i>0777</i>                 if (destParentTreeNextKey <span class="RelationalOperatorReplacement tooltip"><span class="tooltiptext">Mutated Text: < 
Mutation Operator Type: RelationalOperatorReplacement 
Node ID: 10817</span>>=</span> 0 <span class="ConditionalOperatorReplacement tooltip"><span class="tooltiptext">Mutated Text: || 
Mutation Operator Type: ConditionalOperatorReplacement 
Node ID: 10090</span>&&</span> <span class="RemoveNullCheck tooltip"><span class="tooltiptext">Mutated Text: true 
Mutation Operator Type: RemoveNullCheck 
Node ID: 10819</span>srcStructTree <span class="RelationalOperatorReplacement tooltip"><span class="tooltiptext">Mutated Text: == 
Mutation Operator Type: RelationalOperatorReplacement 
Node ID: 10819</span>!=</span> null</span>)                                                            
</span><span class="methodLine"><i>0778</i>                 {                                                                                                                   
</span><span class="methodLine"><i>0779</i>                     PDNumberTreeNode srcParentTree = srcStructTree.getParentTree();                                                 
</span><span class="methodLine"><i>0780</i>                     if (<span class="RemoveNullCheck tooltip"><span class="tooltiptext">Mutated Text: true 
Mutation Operator Type: RemoveNullCheck 
Node ID: 12807</span>srcParentTree <span class="RelationalOperatorReplacement tooltip"><span class="tooltiptext">Mutated Text: == 
Mutation Operator Type: RelationalOperatorReplacement 
Node ID: 12807</span>!=</span> null</span>)                                                                                      
</span><span class="methodLine"><i>0781</i>                     {                                                                                                               
</span><span class="methodLine"><i>0782</i>                         srcNumberTreeAsMap = getNumberTreeAsMap(srcParentTree);                                                     
</span><span class="methodLine"><i>0783</i>                         if (<span class="ConditionalOperatorDeletion tooltip"><span class="tooltiptext">Mutated Text:   
Mutation Operator Type: ConditionalOperatorDeletion 
Node ID: 14479</span>!</span>srcNumberTreeAsMap.isEmpty())                                                                          
</span><span class="methodLine"><i>0784</i>                         {                                                                                                           
</span><span class="methodLine"><i>0785</i>                             mergeStructTree = true;                                                                                 
</span><span class="methodLine"><i>0786</i>                         }                                                                                                           
</span><span class="methodLine"><i>0787</i>                     }                                                                                                               
</span><span class="methodLine"><i>0788</i>                 }                                                                                                                   
</span><span class="methodLine"><i>0789</i>             }                                                                                                                       
</span><span class="methodLine"><i>0790</i>         }                                                                                                                           
</span><span class="outsideLine"><i>0791</i>                                                                                                                                     
</span><span class="methodLine"><i>0792</i>         Map<COSDictionary, COSDictionary> objMapping = <span class="NullifyObjectInitialization tooltip"><span class="tooltiptext">Mutated Text: null 
Mutation Operator Type: NullifyObjectInitialization 
Node ID: 6573</span>new HashMap<COSDictionary, COSDictionary>()</span>;                                 
</span><span class="methodLine"><i>0793</i>         int pageIndex = 0;                                                                                                          
</span><span class="methodLine"><i>0794</i>         for (PDPage page : srcCatalog.getPages())                                                                                   
</span><span class="methodLine"><i>0795</i>         {                                                                                                                           
</span><span class="methodLine"><i>0796</i>             PDPage newPage = <span class="NullifyObjectInitialization tooltip"><span class="tooltiptext">Mutated Text: null 
Mutation Operator Type: NullifyObjectInitialization 
Node ID: 10099</span>new PDPage((COSDictionary) cloner.cloneForNewDocument(page.getCOSObject()))</span>;                           
</span><span class="methodLine"><i>0797</i>             if (<span class="ConditionalOperatorDeletion tooltip"><span class="tooltiptext">Mutated Text:   
Mutation Operator Type: ConditionalOperatorDeletion 
Node ID: 6579</span>!</span>mergeStructTree)                                                                                                   
</span><span class="methodLine"><i>0798</i>             {                                                                                                                       
</span><span class="outsideLine"><i>0799</i>                 // PDFBOX-4429: remove bogus StructParent(s)                                                                        
</span><span class="methodLine"><i>0800</i>                 newPage.getCOSObject().removeItem(COSName.STRUCT_PARENTS);                                                          
</span><span class="methodLine"><i>0801</i>                 for (PDAnnotation ann : newPage.getAnnotations())                                                                   
</span><span class="methodLine"><i>0802</i>                 {                                                                                                                   
</span><span class="methodLine"><i>0803</i>                     ann.getCOSObject().removeItem(COSName.STRUCT_PARENT);                                                           
</span><span class="methodLine"><i>0804</i>                 }                                                                                                                   
</span><span class="methodLine"><i>0805</i>             }                                                                                                                       
</span><span class="methodLine"><i>0806</i>             newPage.setCropBox(page.getCropBox());                                                                                  
</span><span class="methodLine"><i>0807</i>             newPage.setMediaBox(page.getMediaBox());                                                                                
</span><span class="methodLine"><i>0808</i>             newPage.setRotation(page.getRotation());                                                                                
</span><span class="methodLine"><i>0809</i>             PDResources resources = page.getResources();                                                                            
</span><span class="methodLine"><i>0810</i>             if (<span class="RemoveNullCheck tooltip"><span class="tooltiptext">Mutated Text: true 
Mutation Operator Type: RemoveNullCheck 
Node ID: 6588</span>resources <span class="RelationalOperatorReplacement tooltip"><span class="tooltiptext">Mutated Text: == 
Mutation Operator Type: RelationalOperatorReplacement 
Node ID: 6588</span>!=</span> null</span>)                                                                                                  
</span><span class="methodLine"><i>0811</i>             {                                                                                                                       
</span><span class="outsideLine"><i>0812</i>                 // this is smart enough to just create references for resources that are used on multiple pages                     
</span><span class="methodLine"><i>0813</i>                 newPage.setResources(<span class="NullifyObjectInitialization tooltip"><span class="tooltiptext">Mutated Text: null 
Mutation Operator Type: NullifyObjectInitialization 
Node ID: 12242</span>new PDResources((COSDictionary) cloner.cloneForNewDocument(resources))</span>);                       
</span><span class="methodLine"><i>0814</i>             }                                                                                                                       
</span><span class="methodLine"><i>0815</i>             else                                                                                                                    
</span><span class="methodLine"><i>0816</i>             {                                                                                                                       
</span><span class="methodLine"><i>0817</i>                 newPage.setResources(<span class="NullifyObjectInitialization tooltip"><span class="tooltiptext">Mutated Text: null 
Mutation Operator Type: NullifyObjectInitialization 
Node ID: 12245</span>new PDResources()</span>);                                                                            
</span><span class="methodLine"><i>0818</i>             }                                                                                                                       
</span><span class="methodLine"><i>0819</i>             if (mergeStructTree)                                                                                                    
</span><span class="methodLine"><i>0820</i>             {                                                                                                                       
</span><span class="outsideLine"><i>0821</i>                 // add the value of the destination ParentTreeNextKey to every source element                                       
</span><span class="outsideLine"><i>0822</i>                 // StructParent(s) value so that these don't overlap with the existing values                                       
</span><span class="methodLine"><i>0823</i>                 updateStructParentEntries(newPage, destParentTreeNextKey);                                                          
</span><span class="methodLine"><i>0824</i>                 objMapping.put(page.getCOSObject(), newPage.getCOSObject());                                                        
</span><span class="methodLine"><i>0825</i>                 List<PDAnnotation> oldAnnots = page.getAnnotations();                                                               
</span><span class="methodLine"><i>0826</i>                 List<PDAnnotation> newAnnots = newPage.getAnnotations();                                                            
</span><span class="methodLine"><i>0827</i>                 for (int i = 0; i <span class="RelationalOperatorReplacement tooltip"><span class="tooltiptext">Mutated Text: >= 
Mutation Operator Type: RelationalOperatorReplacement 
Node ID: 10129</span><</span> oldAnnots.size(); i<span class="ArithmeticOperatorReplacementShortcut tooltip"><span class="tooltiptext">Mutated Text: -- 
Mutation Operator Type: ArithmeticOperatorReplacementShortcut 
Node ID: 11582</span>++</span>)                                                                          
</span><span class="methodLine"><i>0828</i>                 {                                                                                                                   
</span><span class="methodLine"><i>0829</i>                     objMapping.put(oldAnnots.get(i).getCOSObject(), newAnnots.get(i).getCOSObject());                               
</span><span class="methodLine"><i>0830</i>                 }                                                                                                                   
</span><span class="outsideLine"><i>0831</i>                 // TODO update mapping for XObjects                                                                                 
</span><span class="methodLine"><i>0832</i>             }                                                                                                                       
</span><span class="methodLine"><i>0833</i>             destination.addPage(newPage);                                                                                           
</span><span class="outsideLine"><i>0834</i>                                                                                                                                     
</span><span class="methodLine"><i>0835</i>             if (pageIndex <span class="RelationalOperatorReplacement tooltip"><span class="tooltiptext">Mutated Text: != 
Mutation Operator Type: RelationalOperatorReplacement 
Node ID: 6598</span>==</span> pageIndexOpenActionDest)                                                                               
</span><span class="methodLine"><i>0836</i>             {                                                                                                                       
</span><span class="outsideLine"><i>0837</i>                 // PDFBOX-3972: reassign the page.                                                                                  
</span><span class="outsideLine"><i>0838</i>                 // The openAction is either a PDActionGoTo or a PDPageDestination                                                   
</span><span class="methodLine"><i>0839</i>                 PDDestinationOrAction openAction = destCatalog.getOpenAction();                                                     
</span><span class="methodLine"><i>0840</i>                 PDPageDestination pageDestination;                                                                                  
</span><span class="methodLine"><i>0841</i>                 if (openAction instanceof PDActionGoTo)                                                                             
</span><span class="methodLine"><i>0842</i>                 {                                                                                                                   
</span><span class="methodLine"><i>0843</i>                     pageDestination = (PDPageDestination) ((PDActionGoTo) openAction).getDestination();                             
</span><span class="methodLine"><i>0844</i>                 }                                                                                                                   
</span><span class="methodLine"><i>0845</i>                 else                                                                                                                
</span><span class="methodLine"><i>0846</i>                 {                                                                                                                   
</span><span class="methodLine"><i>0847</i>                     pageDestination = (PDPageDestination) openAction;                                                               
</span><span class="methodLine"><i>0848</i>                 }                                                                                                                   
</span><span class="methodLine"><i>0849</i>                 pageDestination.setPage(newPage);                                                                                   
</span><span class="methodLine"><i>0850</i>             }                                                                                                                       
</span><span class="methodLine"><i>0851</i>             <span class="ArithmeticOperatorReplacementShortcut tooltip"><span class="tooltiptext">Mutated Text: -- 
Mutation Operator Type: ArithmeticOperatorReplacementShortcut 
Node ID: 6601</span>++</span>pageIndex;                                                                                                            
</span><span class="methodLine"><i>0852</i>         }                                                                                                                           
</span><span class="methodLine"><i>0853</i>         if (mergeStructTree)                                                                                                        
</span><span class="methodLine"><i>0854</i>         {                                                                                                                           
</span><span class="methodLine"><i>0855</i>             updatePageReferences(cloner, srcNumberTreeAsMap, objMapping);                                                           
</span><span class="methodLine"><i>0856</i>             int maxSrcKey = <span class="ArithmeticOperatorReplacementUnary tooltip"><span class="tooltiptext">Mutated Text: + 
Mutation Operator Type: ArithmeticOperatorReplacementUnary 
Node ID: 9356</span>-</span>1;                                                                                                     
</span><span class="methodLine"><i>0857</i>             for (Map.Entry<Integer, COSObjectable> entry : srcNumberTreeAsMap.entrySet())                                           
</span><span class="methodLine"><i>0858</i>             {                                                                                                                       
</span><span class="methodLine"><i>0859</i>                 int srcKey = entry.getKey();                                                                                        
</span><span class="methodLine"><i>0860</i>                 maxSrcKey = Math.max(srcKey, maxSrcKey);                                                                            
</span><span class="methodLine"><i>0861</i>                 destNumberTreeAsMap.put(destParentTreeNextKey <span class="ArithmeticOperatorReplacementBinary tooltip"><span class="tooltiptext">Mutated Text: - 
Mutation Operator Type: ArithmeticOperatorReplacementBinary 
Node ID: 11613</span>+</span> srcKey, cloner.cloneForNewDocument(entry.getValue()));              
</span><span class="methodLine"><i>0862</i>             }                                                                                                                       
</span><span class="methodLine"><i>0863</i>             destParentTreeNextKey <span class="AssignmentOperatorReplacementShortcut tooltip"><span class="tooltiptext">Mutated Text: -= 
Mutation Operator Type: AssignmentOperatorReplacementShortcut 
Node ID: 6607</span>+=</span> maxSrcKey <span class="ArithmeticOperatorReplacementBinary tooltip"><span class="tooltiptext">Mutated Text: - 
Mutation Operator Type: ArithmeticOperatorReplacementBinary 
Node ID: 7504</span>+</span> 1;                                                                                 
</span><span class="methodLine"><i>0864</i>             PDNumberTreeNode newParentTreeNode = <span class="NullifyObjectInitialization tooltip"><span class="tooltiptext">Mutated Text: null 
Mutation Operator Type: NullifyObjectInitialization 
Node ID: 10163</span>new PDNumberTreeNode(PDParentTreeValue.class)</span>;                                     
</span><span class="outsideLine"><i>0865</i>                                                                                                                                     
</span><span class="outsideLine"><i>0866</i>             // Note that all elements are stored flatly. This could become a problem for large files                                
</span><span class="outsideLine"><i>0867</i>             // when these are opened in a viewer that uses the tagging information.                                                 
</span><span class="outsideLine"><i>0868</i>             // If this happens, then ​PDNumberTreeNode should be improved with a convenience method that                            
</span><span class="outsideLine"><i>0869</i>             // stores the map into a B+Tree, see https://en.wikipedia.org/wiki/B+_tree                                              
</span><span class="methodLine"><i>0870</i>             newParentTreeNode.setNumbers(destNumberTreeAsMap);                                                                      
</span><span class="outsideLine"><i>0871</i>                                                                                                                                     
</span><span class="methodLine"><i>0872</i>             destStructTree.setParentTree(newParentTreeNode);                                                                        
</span><span class="methodLine"><i>0873</i>             destStructTree.setParentTreeNextKey(destParentTreeNextKey);                                                             
</span><span class="outsideLine"><i>0874</i>                                                                                                                                     
</span><span class="methodLine"><i>0875</i>             mergeKEntries(cloner, srcStructTree, destStructTree);                                                                   
</span><span class="methodLine"><i>0876</i>             mergeRoleMap(srcStructTree, destStructTree);                                                                            
</span><span class="methodLine"><i>0877</i>             mergeIDTree(cloner, srcStructTree, destStructTree);                                                                     
</span><span class="methodLine"><i>0878</i>             mergeMarkInfo(destCatalog, srcCatalog);                                                                                 
</span><span class="methodLine"><i>0879</i>             mergeLanguage(destCatalog, srcCatalog);                                                                                 
</span><span class="methodLine"><i>0880</i>             mergeViewerPreferences(destCatalog, srcCatalog);                                                                        
</span><span class="methodLine"><i>0881</i>         }                                                                                                                           
</span><span class="methodLine"><i>0882</i>     }</span>                                                                                                                               
</span><span class="outsideLine"><i>0883</i>                                                                                                                                     
</span><span class="outsideLine"><i>0884</i>     private void mergeViewerPreferences(PDDocumentCatalog destCatalog, PDDocumentCatalog srcCatalog)                                
</span><span class="methodLine"><i>0885</i>     <span class="RemoveMethod tooltip"><span class="tooltiptext">Mutated Text: {
// void -- no return //
}
 
Mutation Operator Type: RemoveMethod 
Node ID: 1274</span>{</span>                                                                                                                               
</span><span class="methodLine"><i>0886</i>         PDViewerPreferences srcViewerPreferences = srcCatalog.getViewerPreferences();                                               
</span><span class="methodLine"><i>0887</i>         if (<span class="RemoveNullCheck tooltip"><span class="tooltiptext">Mutated Text: false 
Mutation Operator Type: RemoveNullCheck 
Node ID: 3268</span>srcViewerPreferences <span class="RelationalOperatorReplacement tooltip"><span class="tooltiptext">Mutated Text: != 
Mutation Operator Type: RelationalOperatorReplacement 
Node ID: 3268</span>==</span> null</span>)                                                                                           
</span><span class="methodLine"><i>0888</i>         {                                                                                                                           
</span><span class="methodLine"><i>0889</i>             return;                                                                                                                 
</span><span class="methodLine"><i>0890</i>         }                                                                                                                           
</span><span class="methodLine"><i>0891</i>         PDViewerPreferences destViewerPreferences = destCatalog.getViewerPreferences();                                             
</span><span class="methodLine"><i>0892</i>         if (<span class="RemoveNullCheck tooltip"><span class="tooltiptext">Mutated Text: false 
Mutation Operator Type: RemoveNullCheck 
Node ID: 3274</span>destViewerPreferences <span class="RelationalOperatorReplacement tooltip"><span class="tooltiptext">Mutated Text: != 
Mutation Operator Type: RelationalOperatorReplacement 
Node ID: 3274</span>==</span> null</span>)                                                                                          
</span><span class="methodLine"><i>0893</i>         {                                                                                                                           
</span><span class="methodLine"><i>0894</i>             destViewerPreferences = <span class="NullifyObjectInitialization tooltip"><span class="tooltiptext">Mutated Text: null 
Mutation Operator Type: NullifyObjectInitialization 
Node ID: 8547</span>new PDViewerPreferences(<span class="NullifyObjectInitialization tooltip"><span class="tooltiptext">Mutated Text: null 
Mutation Operator Type: NullifyObjectInitialization 
Node ID: 12311</span>new COSDictionary()</span>)</span>;                                                   
</span><span class="methodLine"><i>0895</i>             destCatalog.setViewerPreferences(destViewerPreferences);                                                                
</span><span class="methodLine"><i>0896</i>         }                                                                                                                           
</span><span class="methodLine"><i>0897</i>         mergeInto(srcViewerPreferences.getCOSObject(), destViewerPreferences.getCOSObject(),                                        
</span><span class="methodLine"><i>0898</i>                   Collections.<COSName>emptySet());                                                                                 
</span><span class="outsideLine"><i>0899</i>                                                                                                                                     
</span><span class="outsideLine"><i>0900</i>         // check the booleans - set to true if one is set and true                                                                  
</span><span class="methodLine"><i>0901</i>         if (srcViewerPreferences.hideToolbar() <span class="ConditionalOperatorReplacement tooltip"><span class="tooltiptext">Mutated Text: && 
Mutation Operator Type: ConditionalOperatorReplacement 
Node ID: 3279</span>||</span> destViewerPreferences.hideToolbar())                                              
</span><span class="methodLine"><i>0902</i>         {                                                                                                                           
</span><span class="methodLine"><i>0903</i>             destViewerPreferences.setHideToolbar(true);                                                                             
</span><span class="methodLine"><i>0904</i>         }                                                                                                                           
</span><span class="methodLine"><i>0905</i>         if (srcViewerPreferences.hideMenubar() <span class="ConditionalOperatorReplacement tooltip"><span class="tooltiptext">Mutated Text: && 
Mutation Operator Type: ConditionalOperatorReplacement 
Node ID: 3283</span>||</span> destViewerPreferences.hideMenubar())                                              
</span><span class="methodLine"><i>0906</i>         {                                                                                                                           
</span><span class="methodLine"><i>0907</i>             destViewerPreferences.setHideMenubar(true);                                                                             
</span><span class="methodLine"><i>0908</i>         }                                                                                                                           
</span><span class="methodLine"><i>0909</i>         if (srcViewerPreferences.hideWindowUI() <span class="ConditionalOperatorReplacement tooltip"><span class="tooltiptext">Mutated Text: && 
Mutation Operator Type: ConditionalOperatorReplacement 
Node ID: 3287</span>||</span> destViewerPreferences.hideWindowUI())                                            
</span><span class="methodLine"><i>0910</i>         {                                                                                                                           
</span><span class="methodLine"><i>0911</i>             destViewerPreferences.setHideWindowUI(true);                                                                            
</span><span class="methodLine"><i>0912</i>         }                                                                                                                           
</span><span class="methodLine"><i>0913</i>         if (srcViewerPreferences.fitWindow() <span class="ConditionalOperatorReplacement tooltip"><span class="tooltiptext">Mutated Text: && 
Mutation Operator Type: ConditionalOperatorReplacement 
Node ID: 3291</span>||</span> destViewerPreferences.fitWindow())                                                  
</span><span class="methodLine"><i>0914</i>         {                                                                                                                           
</span><span class="methodLine"><i>0915</i>             destViewerPreferences.setFitWindow(true);                                                                               
</span><span class="methodLine"><i>0916</i>         }                                                                                                                           
</span><span class="methodLine"><i>0917</i>         if (srcViewerPreferences.centerWindow() <span class="ConditionalOperatorReplacement tooltip"><span class="tooltiptext">Mutated Text: && 
Mutation Operator Type: ConditionalOperatorReplacement 
Node ID: 3295</span>||</span> destViewerPreferences.centerWindow())                                            
</span><span class="methodLine"><i>0918</i>         {                                                                                                                           
</span><span class="methodLine"><i>0919</i>             destViewerPreferences.setCenterWindow(true);                                                                            
</span><span class="methodLine"><i>0920</i>         }                                                                                                                           
</span><span class="methodLine"><i>0921</i>         if (srcViewerPreferences.displayDocTitle() <span class="ConditionalOperatorReplacement tooltip"><span class="tooltiptext">Mutated Text: && 
Mutation Operator Type: ConditionalOperatorReplacement 
Node ID: 3299</span>||</span> destViewerPreferences.displayDocTitle())                                      
</span><span class="methodLine"><i>0922</i>         {                                                                                                                           
</span><span class="methodLine"><i>0923</i>             destViewerPreferences.setDisplayDocTitle(true);                                                                         
</span><span class="methodLine"><i>0924</i>         }                                                                                                                           
</span><span class="methodLine"><i>0925</i>     }</span>                                                                                                                               
</span><span class="outsideLine"><i>0926</i>                                                                                                                                     
</span><span class="outsideLine"><i>0927</i>     private void mergeLanguage(PDDocumentCatalog destCatalog, PDDocumentCatalog srcCatalog)                                         
</span><span class="methodLine"><i>0928</i>     <span class="RemoveMethod tooltip"><span class="tooltiptext">Mutated Text: {
// void -- no return //
}
 
Mutation Operator Type: RemoveMethod 
Node ID: 1279</span>{</span>                                                                                                                               
</span><span class="methodLine"><i>0929</i>         if (<span class="RemoveNullCheck tooltip"><span class="tooltiptext">Mutated Text: false 
Mutation Operator Type: RemoveNullCheck 
Node ID: 3305</span>destCatalog.getLanguage() <span class="RelationalOperatorReplacement tooltip"><span class="tooltiptext">Mutated Text: != 
Mutation Operator Type: RelationalOperatorReplacement 
Node ID: 3305</span>==</span> null</span>)                                                                                      
</span><span class="methodLine"><i>0930</i>         {                                                                                                                           
</span><span class="methodLine"><i>0931</i>             String srcLanguage = srcCatalog.getLanguage();                                                                          
</span><span class="methodLine"><i>0932</i>             if (<span class="RemoveNullCheck tooltip"><span class="tooltiptext">Mutated Text: true 
Mutation Operator Type: RemoveNullCheck 
Node ID: 6661</span>srcLanguage <span class="RelationalOperatorReplacement tooltip"><span class="tooltiptext">Mutated Text: == 
Mutation Operator Type: RelationalOperatorReplacement 
Node ID: 6661</span>!=</span> null</span>)                                                                                                
</span><span class="methodLine"><i>0933</i>             {                                                                                                                       
</span><span class="methodLine"><i>0934</i>                 destCatalog.setLanguage(srcLanguage);                                                                               
</span><span class="methodLine"><i>0935</i>             }                                                                                                                       
</span><span class="methodLine"><i>0936</i>         }                                                                                                                           
</span><span class="methodLine"><i>0937</i>     }</span>                                                                                                                               
</span><span class="outsideLine"><i>0938</i>                                                                                                                                     
</span><span class="outsideLine"><i>0939</i>     private void mergeMarkInfo(PDDocumentCatalog destCatalog, PDDocumentCatalog srcCatalog)                                         
</span><span class="methodLine"><i>0940</i>     <span class="RemoveMethod tooltip"><span class="tooltiptext">Mutated Text: {
// void -- no return //
}
 
Mutation Operator Type: RemoveMethod 
Node ID: 1284</span>{</span>                                                                                                                               
</span><span class="methodLine"><i>0941</i>         PDMarkInfo destMark = destCatalog.getMarkInfo();                                                                            
</span><span class="methodLine"><i>0942</i>         PDMarkInfo srcMark = srcCatalog.getMarkInfo();                                                                              
</span><span class="methodLine"><i>0943</i>         if (<span class="RemoveNullCheck tooltip"><span class="tooltiptext">Mutated Text: false 
Mutation Operator Type: RemoveNullCheck 
Node ID: 3315</span>destMark <span class="RelationalOperatorReplacement tooltip"><span class="tooltiptext">Mutated Text: != 
Mutation Operator Type: RelationalOperatorReplacement 
Node ID: 3315</span>==</span> null</span>)                                                                                                       
</span><span class="methodLine"><i>0944</i>         {                                                                                                                           
</span><span class="methodLine"><i>0945</i>             destMark = <span class="NullifyObjectInitialization tooltip"><span class="tooltiptext">Mutated Text: null 
Mutation Operator Type: NullifyObjectInitialization 
Node ID: 8592</span>new PDMarkInfo()</span>;                                                                                            
</span><span class="methodLine"><i>0946</i>         }                                                                                                                           
</span><span class="methodLine"><i>0947</i>         if (<span class="RemoveNullCheck tooltip"><span class="tooltiptext">Mutated Text: false 
Mutation Operator Type: RemoveNullCheck 
Node ID: 3319</span>srcMark <span class="RelationalOperatorReplacement tooltip"><span class="tooltiptext">Mutated Text: != 
Mutation Operator Type: RelationalOperatorReplacement 
Node ID: 3319</span>==</span> null</span>)                                                                                                        
</span><span class="methodLine"><i>0948</i>         {                                                                                                                           
</span><span class="methodLine"><i>0949</i>             srcMark = <span class="NullifyObjectInitialization tooltip"><span class="tooltiptext">Mutated Text: null 
Mutation Operator Type: NullifyObjectInitialization 
Node ID: 8595</span>new PDMarkInfo()</span>;                                                                                             
</span><span class="methodLine"><i>0950</i>         }                                                                                                                           
</span><span class="methodLine"><i>0951</i>         destMark.setMarked(true);                                                                                                   
</span><span class="methodLine"><i>0952</i>         destMark.setSuspect(srcMark.isSuspect() <span class="ConditionalOperatorReplacement tooltip"><span class="tooltiptext">Mutated Text: && 
Mutation Operator Type: ConditionalOperatorReplacement 
Node ID: 4856</span>||</span> destMark.isSuspect());                                                           
</span><span class="methodLine"><i>0953</i>         destMark.setSuspect(srcMark.usesUserProperties() <span class="ConditionalOperatorReplacement tooltip"><span class="tooltiptext">Mutated Text: && 
Mutation Operator Type: ConditionalOperatorReplacement 
Node ID: 4860</span>||</span> destMark.usesUserProperties());                                         
</span><span class="methodLine"><i>0954</i>         destCatalog.setMarkInfo(destMark);                                                                                          
</span><span class="methodLine"><i>0955</i>     }</span>                                                                                                                               
</span><span class="outsideLine"><i>0956</i>                                                                                                                                     
</span><span class="outsideLine"><i>0957</i>     private void mergeKEntries(PDFCloneUtility cloner,                                                                              
</span><span class="outsideLine"><i>0958</i>                       PDStructureTreeRoot srcStructTree,                                                                            
</span><span class="outsideLine"><i>0959</i>                       PDStructureTreeRoot destStructTree) throws IOException                                                        
</span><span class="methodLine"><i>0960</i>     <span class="RemoveMethod tooltip"><span class="tooltiptext">Mutated Text: {
// void -- no return //
}
 
Mutation Operator Type: RemoveMethod 
Node ID: 1291</span>{</span>                                                                                                                               
</span><span class="methodLine"><i>0961</i>         COSArray dstKArray = <span class="NullifyObjectInitialization tooltip"><span class="tooltiptext">Mutated Text: null 
Mutation Operator Type: NullifyObjectInitialization 
Node ID: 6693</span>new COSArray()</span>;                                                                                        
</span><span class="methodLine"><i>0962</i>         if (<span class="RemoveNullCheck tooltip"><span class="tooltiptext">Mutated Text: true 
Mutation Operator Type: RemoveNullCheck 
Node ID: 3332</span>destStructTree.getK() <span class="RelationalOperatorReplacement tooltip"><span class="tooltiptext">Mutated Text: == 
Mutation Operator Type: RelationalOperatorReplacement 
Node ID: 3332</span>!=</span> null</span>)                                                                                          
</span><span class="methodLine"><i>0963</i>         {                                                                                                                           
</span><span class="methodLine"><i>0964</i>             COSBase base = destStructTree.getK();                                                                                   
</span><span class="methodLine"><i>0965</i>             if (base instanceof COSArray)                                                                                           
</span><span class="methodLine"><i>0966</i>             {                                                                                                                       
</span><span class="methodLine"><i>0967</i>                 dstKArray.addAll((COSArray) base);                                                                                  
</span><span class="methodLine"><i>0968</i>             }                                                                                                                       
</span><span class="methodLine"><i>0969</i>             else if (base instanceof COSDictionary)                                                                                 
</span><span class="methodLine"><i>0970</i>             {                                                                                                                       
</span><span class="methodLine"><i>0971</i>                 dstKArray.add(base);                                                                                                
</span><span class="methodLine"><i>0972</i>             }                                                                                                                       
</span><span class="methodLine"><i>0973</i>         }                                                                                                                           
</span><span class="outsideLine"><i>0974</i>                                                                                                                                     
</span><span class="methodLine"><i>0975</i>         COSArray srcKArray = <span class="NullifyObjectInitialization tooltip"><span class="tooltiptext">Mutated Text: null 
Mutation Operator Type: NullifyObjectInitialization 
Node ID: 6706</span>new COSArray()</span>;                                                                                        
</span><span class="methodLine"><i>0976</i>         if (<span class="RemoveNullCheck tooltip"><span class="tooltiptext">Mutated Text: true 
Mutation Operator Type: RemoveNullCheck 
Node ID: 3338</span>srcStructTree.getK() <span class="RelationalOperatorReplacement tooltip"><span class="tooltiptext">Mutated Text: == 
Mutation Operator Type: RelationalOperatorReplacement 
Node ID: 3338</span>!=</span> null</span>)                                                                                           
</span><span class="methodLine"><i>0977</i>         {                                                                                                                           
</span><span class="methodLine"><i>0978</i>             COSBase base = cloner.cloneForNewDocument(srcStructTree.getK());                                                        
</span><span class="methodLine"><i>0979</i>             if (base instanceof COSArray)                                                                                           
</span><span class="methodLine"><i>0980</i>             {                                                                                                                       
</span><span class="methodLine"><i>0981</i>                 srcKArray.addAll((COSArray) base);                                                                                  
</span><span class="methodLine"><i>0982</i>             }                                                                                                                       
</span><span class="methodLine"><i>0983</i>             else if (base instanceof COSDictionary)                                                                                 
</span><span class="methodLine"><i>0984</i>             {                                                                                                                       
</span><span class="methodLine"><i>0985</i>                 srcKArray.add(base);                                                                                                
</span><span class="methodLine"><i>0986</i>             }                                                                                                                       
</span><span class="methodLine"><i>0987</i>         }                                                                                                                           
</span><span class="outsideLine"><i>0988</i>                                                                                                                                     
</span><span class="methodLine"><i>0989</i>         if (srcKArray.size() <span class="RelationalOperatorReplacement tooltip"><span class="tooltiptext">Mutated Text: != 
Mutation Operator Type: RelationalOperatorReplacement 
Node ID: 3342</span>==</span> 0)                                                                                                  
</span><span class="methodLine"><i>0990</i>         {                                                                                                                           
</span><span class="methodLine"><i>0991</i>             return;                                                                                                                 
</span><span class="methodLine"><i>0992</i>         }                                                                                                                           
</span><span class="outsideLine"><i>0993</i>                                                                                                                                     
</span><span class="methodLine"><i>0994</i>         if (dstKArray.size() <span class="RelationalOperatorReplacement tooltip"><span class="tooltiptext">Mutated Text: != 
Mutation Operator Type: RelationalOperatorReplacement 
Node ID: 4029</span>==</span> 1 <span class="ConditionalOperatorReplacement tooltip"><span class="tooltiptext">Mutated Text: || 
Mutation Operator Type: ConditionalOperatorReplacement 
Node ID: 3346</span>&&</span> dstKArray.getObject(0) instanceof COSDictionary)                                               
</span><span class="methodLine"><i>0995</i>         {                                                                                                                           
</span><span class="outsideLine"><i>0996</i>             // Only one element in the destination. If it is a /Document and its children                                           
</span><span class="outsideLine"><i>0997</i>             // are /Document or /Part, then we can insert there                                                                     
</span><span class="methodLine"><i>0998</i>             COSDictionary topKDict = (COSDictionary) dstKArray.getObject(0);                                                        
</span><span class="methodLine"><i>0999</i>             if (COSName.DOCUMENT.equals(topKDict.getCOSName(COSName.S)))                                                            
</span><span class="methodLine"><i>1000</i>             {                                                                                                                       
</span><span class="methodLine"><i>1001</i>                 COSArray kLevelOneArray = topKDict.getCOSArray(COSName.K);                                                          
</span><span class="methodLine"><i>1002</i>                 if (<span class="RemoveNullCheck tooltip"><span class="tooltiptext">Mutated Text: true 
Mutation Operator Type: RemoveNullCheck 
Node ID: 10239</span>kLevelOneArray <span class="RelationalOperatorReplacement tooltip"><span class="tooltiptext">Mutated Text: == 
Mutation Operator Type: RelationalOperatorReplacement 
Node ID: 10239</span>!=</span> null</span>)                                                                                         
</span><span class="methodLine"><i>1003</i>                 {                                                                                                                   
</span><span class="methodLine"><i>1004</i>                     boolean onlyDocuments = hasOnlyDocumentsOrParts(kLevelOneArray);                                                
</span><span class="methodLine"><i>1005</i>                     if (onlyDocuments)                                                                                              
</span><span class="methodLine"><i>1006</i>                     {                                                                                                               
</span><span class="outsideLine"><i>1007</i>                         // insert src elements at level 1                                                                           
</span><span class="methodLine"><i>1008</i>                         kLevelOneArray.addAll(srcKArray);                                                                           
</span><span class="methodLine"><i>1009</i>                         updateParentEntry(kLevelOneArray, topKDict, COSName.PART);                                                  
</span><span class="methodLine"><i>1010</i>                         return;                                                                                                     
</span><span class="methodLine"><i>1011</i>                     }                                                                                                               
</span><span class="methodLine"><i>1012</i>                 }                                                                                                                   
</span><span class="methodLine"><i>1013</i>             }                                                                                                                       
</span><span class="methodLine"><i>1014</i>         }                                                                                                                           
</span><span class="outsideLine"><i>1015</i>                                                                                                                                     
</span><span class="methodLine"><i>1016</i>         if (dstKArray.size() <span class="RelationalOperatorReplacement tooltip"><span class="tooltiptext">Mutated Text: != 
Mutation Operator Type: RelationalOperatorReplacement 
Node ID: 3350</span>==</span> 0)                                                                                                  
</span><span class="methodLine"><i>1017</i>         {                                                                                                                           
</span><span class="methodLine"><i>1018</i>             updateParentEntry(srcKArray, destStructTree.getCOSObject(), null);                                                      
</span><span class="methodLine"><i>1019</i>             destStructTree.setK(srcKArray);                                                                                         
</span><span class="methodLine"><i>1020</i>             return;                                                                                                                 
</span><span class="methodLine"><i>1021</i>         }                                                                                                                           
</span><span class="outsideLine"><i>1022</i>                                                                                                                                     
</span><span class="outsideLine"><i>1023</i>         // whatever this is, merge this under a new /Document element                                                               
</span><span class="methodLine"><i>1024</i>         dstKArray.addAll(srcKArray);                                                                                                
</span><span class="methodLine"><i>1025</i>         COSDictionary kLevelZeroDict = <span class="NullifyObjectInitialization tooltip"><span class="tooltiptext">Mutated Text: null 
Mutation Operator Type: NullifyObjectInitialization 
Node ID: 6742</span>new COSDictionary()</span>;                                                                         
</span><span class="outsideLine"><i>1026</i>         // If it is all Document, then make it all Part                                                                             
</span><span class="methodLine"><i>1027</i>         COSName newStructureType = hasOnlyDocumentsOrParts(dstKArray) ? COSName.PART : null;                                        
</span><span class="methodLine"><i>1028</i>         updateParentEntry(dstKArray, kLevelZeroDict, newStructureType);                                                             
</span><span class="methodLine"><i>1029</i>         kLevelZeroDict.setItem(COSName.K, dstKArray);                                                                               
</span><span class="methodLine"><i>1030</i>         kLevelZeroDict.setItem(COSName.P, destStructTree);                                                                          
</span><span class="methodLine"><i>1031</i>         kLevelZeroDict.setItem(COSName.S, COSName.DOCUMENT);                                                                        
</span><span class="methodLine"><i>1032</i>         destStructTree.setK(kLevelZeroDict);                                                                                        
</span><span class="methodLine"><i>1033</i>     }</span>                                                                                                                               
</span><span class="outsideLine"><i>1034</i>                                                                                                                                     
</span><span class="outsideLine"><i>1035</i>     private boolean hasOnlyDocumentsOrParts(COSArray kLevelOneArray)                                                                
</span><span class="methodLine"><i>1036</i>     <span class="RemoveMethod tooltip"><span class="tooltiptext">Mutated Text: {
    return false;
}
 
Mutation Operator Type: RemoveMethod 
Node ID: 1296</span>{</span>                                                                                                                               
</span><span class="methodLine"><i>1037</i>         for (int i = 0; i <span class="RelationalOperatorReplacement tooltip"><span class="tooltiptext">Mutated Text: >= 
Mutation Operator Type: RelationalOperatorReplacement 
Node ID: 3366</span><</span> kLevelOneArray.size(); <span class="ArithmeticOperatorReplacementShortcut tooltip"><span class="tooltiptext">Mutated Text: -- 
Mutation Operator Type: ArithmeticOperatorReplacementShortcut 
Node ID: 4951</span>++</span>i)                                                                             
</span><span class="methodLine"><i>1038</i>         {                                                                                                                           
</span><span class="methodLine"><i>1039</i>             COSBase base = kLevelOneArray.getObject(i);                                                                             
</span><span class="methodLine"><i>1040</i>             if (<span class="ConditionalOperatorDeletion tooltip"><span class="tooltiptext">Mutated Text:   
Mutation Operator Type: ConditionalOperatorDeletion 
Node ID: 6771</span>!</span>(base instanceof COSDictionary))                                                                                   
</span><span class="methodLine"><i>1041</i>             {                                                                                                                       
</span><span class="methodLine"><i>1042</i>                 return false;                                                                                                       
</span><span class="methodLine"><i>1043</i>             }                                                                                                                       
</span><span class="methodLine"><i>1044</i>             COSDictionary dict = (COSDictionary) base;                                                                              
</span><span class="methodLine"><i>1045</i>             if (<span class="ConditionalOperatorDeletion tooltip"><span class="tooltiptext">Mutated Text:   
Mutation Operator Type: ConditionalOperatorDeletion 
Node ID: 7715</span>!</span>COSName.DOCUMENT.equals(dict.getCOSName(COSName.S)) <span class="ConditionalOperatorReplacement tooltip"><span class="tooltiptext">Mutated Text: || 
Mutation Operator Type: ConditionalOperatorReplacement 
Node ID: 6777</span>&&</span>                                                             
</span><span class="methodLine"><i>1046</i>                 <span class="ConditionalOperatorDeletion tooltip"><span class="tooltiptext">Mutated Text:   
Mutation Operator Type: ConditionalOperatorDeletion 
Node ID: 7717</span>!</span>COSName.PART.equals(dict.getCOSName(COSName.S)))                                                                   
</span><span class="methodLine"><i>1047</i>             {                                                                                                                       
</span><span class="methodLine"><i>1048</i>                 return false;                                                                                                       
</span><span class="methodLine"><i>1049</i>             }                                                                                                                       
</span><span class="methodLine"><i>1050</i>         }                                                                                                                           
</span><span class="methodLine"><i>1051</i>         return true;                                                                                                                
</span><span class="methodLine"><i>1052</i>     }</span>                                                                                                                               
</span><span class="outsideLine"><i>1053</i>                                                                                                                                     
</span><span class="outsideLine"><i>1054</i>     /**                                                                                                                             
</span><span class="outsideLine"><i>1055</i>      * Update the P reference to the new parent dictionary.                                                                         
</span><span class="outsideLine"><i>1056</i>      *                                                                                                                              
</span><span class="outsideLine"><i>1057</i>      * @param kArray the kids array                                                                                                 
</span><span class="outsideLine"><i>1058</i>      * @param newParent the new parent                                                                                              
</span><span class="outsideLine"><i>1059</i>      * @param newStructureType the new structure type in /S or null so it doesn't get replaced                                      
</span><span class="outsideLine"><i>1060</i>      */                                                                                                                             
</span><span class="outsideLine"><i>1061</i>     private void updateParentEntry(COSArray kArray, COSDictionary newParent, COSName newStructureType)                              
</span><span class="methodLine"><i>1062</i>     <span class="RemoveMethod tooltip"><span class="tooltiptext">Mutated Text: {
// void -- no return //
}
 
Mutation Operator Type: RemoveMethod 
Node ID: 1301</span>{</span>                                                                                                                               
</span><span class="methodLine"><i>1063</i>         for (int i = 0; i <span class="RelationalOperatorReplacement tooltip"><span class="tooltiptext">Mutated Text: >= 
Mutation Operator Type: RelationalOperatorReplacement 
Node ID: 3376</span><</span> kArray.size(); i<span class="ArithmeticOperatorReplacementShortcut tooltip"><span class="tooltiptext">Mutated Text: -- 
Mutation Operator Type: ArithmeticOperatorReplacementShortcut 
Node ID: 4963</span>++</span>)                                                                                     
</span><span class="methodLine"><i>1064</i>         {                                                                                                                           
</span><span class="methodLine"><i>1065</i>             COSBase subEntry = kArray.getObject(i);                                                                                 
</span><span class="methodLine"><i>1066</i>             if (subEntry instanceof COSDictionary)                                                                                  
</span><span class="methodLine"><i>1067</i>             {                                                                                                                       
</span><span class="methodLine"><i>1068</i>                 COSDictionary dictEntry = (COSDictionary) subEntry;                                                                 
</span><span class="methodLine"><i>1069</i>                 dictEntry.setItem(COSName.P, newParent);                                                                            
</span><span class="methodLine"><i>1070</i>                 if (<span class="RemoveNullCheck tooltip"><span class="tooltiptext">Mutated Text: true 
Mutation Operator Type: RemoveNullCheck 
Node ID: 10281</span>newStructureType <span class="RelationalOperatorReplacement tooltip"><span class="tooltiptext">Mutated Text: == 
Mutation Operator Type: RelationalOperatorReplacement 
Node ID: 10281</span>!=</span> null</span>)                                                                                       
</span><span class="methodLine"><i>1071</i>                 {                                                                                                                   
</span><span class="methodLine"><i>1072</i>                     dictEntry.setItem(COSName.S, newStructureType);                                                                 
</span><span class="methodLine"><i>1073</i>                 }                                                                                                                   
</span><span class="methodLine"><i>1074</i>             }                                                                                                                       
</span><span class="methodLine"><i>1075</i>         }                                                                                                                           
</span><span class="methodLine"><i>1076</i>     }</span>                                                                                                                               
</span><span class="outsideLine"><i>1077</i>                                                                                                                                     
</span><span class="outsideLine"><i>1078</i>     private void mergeIDTree(PDFCloneUtility cloner,                                                                                
</span><span class="outsideLine"><i>1079</i>             PDStructureTreeRoot srcStructTree,                                                                                      
</span><span class="outsideLine"><i>1080</i>             PDStructureTreeRoot destStructTree) throws IOException                                                                  
</span><span class="methodLine"><i>1081</i>     <span class="RemoveMethod tooltip"><span class="tooltiptext">Mutated Text: {
// void -- no return //
}
 
Mutation Operator Type: RemoveMethod 
Node ID: 1308</span>{</span>                                                                                                                               
</span><span class="methodLine"><i>1082</i>         PDNameTreeNode<PDStructureElement> srcIDTree = srcStructTree.getIDTree();                                                   
</span><span class="methodLine"><i>1083</i>         if (<span class="RemoveNullCheck tooltip"><span class="tooltiptext">Mutated Text: false 
Mutation Operator Type: RemoveNullCheck 
Node ID: 3386</span>srcIDTree <span class="RelationalOperatorReplacement tooltip"><span class="tooltiptext">Mutated Text: != 
Mutation Operator Type: RelationalOperatorReplacement 
Node ID: 3386</span>==</span> null</span>)                                                                                                      
</span><span class="methodLine"><i>1084</i>         {                                                                                                                           
</span><span class="methodLine"><i>1085</i>             return;                                                                                                                 
</span><span class="methodLine"><i>1086</i>         }                                                                                                                           
</span><span class="methodLine"><i>1087</i>         PDNameTreeNode<PDStructureElement> destIDTree = destStructTree.getIDTree();                                                 
</span><span class="methodLine"><i>1088</i>         if (<span class="RemoveNullCheck tooltip"><span class="tooltiptext">Mutated Text: false 
Mutation Operator Type: RemoveNullCheck 
Node ID: 3392</span>destIDTree <span class="RelationalOperatorReplacement tooltip"><span class="tooltiptext">Mutated Text: != 
Mutation Operator Type: RelationalOperatorReplacement 
Node ID: 3392</span>==</span> null</span>)                                                                                                     
</span><span class="methodLine"><i>1089</i>         {                                                                                                                           
</span><span class="methodLine"><i>1090</i>             destIDTree = <span class="NullifyObjectInitialization tooltip"><span class="tooltiptext">Mutated Text: null 
Mutation Operator Type: NullifyObjectInitialization 
Node ID: 8691</span>new PDStructureElementNameTreeNode()</span>;                                                                      
</span><span class="methodLine"><i>1091</i>         }                                                                                                                           
</span><span class="methodLine"><i>1092</i>         Map<String, PDStructureElement> srcNames = getIDTreeAsMap(srcIDTree);                                                       
</span><span class="methodLine"><i>1093</i>         Map<String, PDStructureElement> destNames = getIDTreeAsMap(destIDTree);                                                     
</span><span class="methodLine"><i>1094</i>         for (Map.Entry<String, PDStructureElement> entry : srcNames.entrySet())                                                     
</span><span class="methodLine"><i>1095</i>         {                                                                                                                           
</span><span class="methodLine"><i>1096</i>             if (destNames.containsKey(entry.getKey()))                                                                              
</span><span class="methodLine"><i>1097</i>             {                                                                                                                       
</span><span class="methodLine"><i>1098</i>                 LOG.warn("key " + entry.getKey() + " already exists in destination IDTree");                                        
</span><span class="methodLine"><i>1099</i>             }                                                                                                                       
</span><span class="methodLine"><i>1100</i>             else                                                                                                                    
</span><span class="methodLine"><i>1101</i>             {                                                                                                                       
</span><span class="methodLine"><i>1102</i>                 destNames.put(entry.getKey(),                                                                                       
</span><span class="methodLine"><i>1103</i>                               <span class="NullifyObjectInitialization tooltip"><span class="tooltiptext">Mutated Text: null 
Mutation Operator Type: NullifyObjectInitialization 
Node ID: 12384</span>new PDStructureElement((COSDictionary) cloner.cloneForNewDocument(entry.getValue().getCOSObject()))</span>); 
</span><span class="methodLine"><i>1104</i>             }                                                                                                                       
</span><span class="methodLine"><i>1105</i>         }                                                                                                                           
</span><span class="methodLine"><i>1106</i>         destIDTree = <span class="NullifyObjectInitialization tooltip"><span class="tooltiptext">Mutated Text: null 
Mutation Operator Type: NullifyObjectInitialization 
Node ID: 5000</span>new PDStructureElementNameTreeNode()</span>;                                                                          
</span><span class="methodLine"><i>1107</i>         destIDTree.setNames(destNames);                                                                                             
</span><span class="methodLine"><i>1108</i>         destStructTree.setIDTree(destIDTree);                                                                                       
</span><span class="outsideLine"><i>1109</i>         // Note that all elements are stored flatly. This could become a problem for large files                                    
</span><span class="outsideLine"><i>1110</i>         // when these are opened in a viewer that uses the tagging information.                                                     
</span><span class="outsideLine"><i>1111</i>         // If this happens, then PDNameTreeNode should be improved with a convenience method that                                   
</span><span class="outsideLine"><i>1112</i>         // stores the map into a B+Tree, see https://en.wikipedia.org/wiki/B+_tree                                                  
</span><span class="methodLine"><i>1113</i>     }</span>                                                                                                                               
</span><span class="outsideLine"><i>1114</i>                                                                                                                                     
</span><span class="outsideLine"><i>1115</i>     // PDNameTreeNode.getNames() only brings one level, this is why we need this                                                    
</span><span class="outsideLine"><i>1116</i>     // might be made public at a later time, or integrated into PDNameTreeNode with template.                                       
</span><span class="outsideLine"><i>1117</i>     static Map<String, PDStructureElement> getIDTreeAsMap(PDNameTreeNode<PDStructureElement> idTree)                                
</span><span class="outsideLine"><i>1118</i>             throws IOException                                                                                                      
</span><span class="methodLine"><i>1119</i>     <span class="RemoveMethod tooltip"><span class="tooltiptext">Mutated Text: {
    return null;
}
 
Mutation Operator Type: RemoveMethod 
Node ID: 1315</span>{</span>                                                                                                                               
</span><span class="methodLine"><i>1120</i>         Map<String, PDStructureElement> names = idTree.getNames();                                                                  
</span><span class="methodLine"><i>1121</i>         if (<span class="RemoveNullCheck tooltip"><span class="tooltiptext">Mutated Text: false 
Mutation Operator Type: RemoveNullCheck 
Node ID: 3411</span>names <span class="RelationalOperatorReplacement tooltip"><span class="tooltiptext">Mutated Text: != 
Mutation Operator Type: RelationalOperatorReplacement 
Node ID: 3411</span>==</span> null</span>)                                                                                                          
</span><span class="methodLine"><i>1122</i>         {                                                                                                                           
</span><span class="methodLine"><i>1123</i>             names = <span class="NullifyObjectInitialization tooltip"><span class="tooltiptext">Mutated Text: null 
Mutation Operator Type: NullifyObjectInitialization 
Node ID: 8713</span>new LinkedHashMap<String, PDStructureElement>()</span>;                                                                
</span><span class="methodLine"><i>1124</i>         }                                                                                                                           
</span><span class="methodLine"><i>1125</i>         else                                                                                                                        
</span><span class="methodLine"><i>1126</i>         {                                                                                                                           
</span><span class="outsideLine"><i>1127</i>             // must copy because the map is read only                                                                               
</span><span class="methodLine"><i>1128</i>             names = <span class="NullifyObjectInitialization tooltip"><span class="tooltiptext">Mutated Text: null 
Mutation Operator Type: NullifyObjectInitialization 
Node ID: 8716</span>new LinkedHashMap<String, PDStructureElement>(names)</span>;                                                           
</span><span class="methodLine"><i>1129</i>         }                                                                                                                           
</span><span class="methodLine"><i>1130</i>         List<PDNameTreeNode<PDStructureElement>> kids = idTree.getKids();                                                           
</span><span class="methodLine"><i>1131</i>         if (<span class="RemoveNullCheck tooltip"><span class="tooltiptext">Mutated Text: true 
Mutation Operator Type: RemoveNullCheck 
Node ID: 3418</span>kids <span class="RelationalOperatorReplacement tooltip"><span class="tooltiptext">Mutated Text: == 
Mutation Operator Type: RelationalOperatorReplacement 
Node ID: 3418</span>!=</span> null</span>)                                                                                                           
</span><span class="methodLine"><i>1132</i>         {                                                                                                                           
</span><span class="methodLine"><i>1133</i>             for (PDNameTreeNode<PDStructureElement> kid : kids)                                                                     
</span><span class="methodLine"><i>1134</i>             {                                                                                                                       
</span><span class="methodLine"><i>1135</i>                 names.putAll(getIDTreeAsMap(kid));                                                                                  
</span><span class="methodLine"><i>1136</i>             }                                                                                                                       
</span><span class="methodLine"><i>1137</i>         }                                                                                                                           
</span><span class="methodLine"><i>1138</i>         <span class="NullifyReturnValue tooltip"><span class="tooltiptext">Mutated Text: return null; 
Mutation Operator Type: NullifyReturnValue 
Node ID: 2314</span>return names;</span>                                                                                                               
</span><span class="methodLine"><i>1139</i>     }</span>                                                                                                                               
</span><span class="outsideLine"><i>1140</i>                                                                                                                                     
</span><span class="outsideLine"><i>1141</i>     // PDNumberTreeNode.getNumbers() only brings one level, this is why we need this                                                
</span><span class="outsideLine"><i>1142</i>     // might be made public at a later time, or integrated into PDNumberTreeNode.                                                   
</span><span class="outsideLine"><i>1143</i>     static Map<Integer, COSObjectable> getNumberTreeAsMap(PDNumberTreeNode tree)                                                    
</span><span class="outsideLine"><i>1144</i>             throws IOException                                                                                                      
</span><span class="methodLine"><i>1145</i>     <span class="RemoveMethod tooltip"><span class="tooltiptext">Mutated Text: {
    return null;
}
 
Mutation Operator Type: RemoveMethod 
Node ID: 1322</span>{</span>                                                                                                                               
</span><span class="methodLine"><i>1146</i>         Map<Integer, COSObjectable> numbers = tree.getNumbers();                                                                    
</span><span class="methodLine"><i>1147</i>         if (<span class="RemoveNullCheck tooltip"><span class="tooltiptext">Mutated Text: false 
Mutation Operator Type: RemoveNullCheck 
Node ID: 3428</span>numbers <span class="RelationalOperatorReplacement tooltip"><span class="tooltiptext">Mutated Text: != 
Mutation Operator Type: RelationalOperatorReplacement 
Node ID: 3428</span>==</span> null</span>)                                                                                                        
</span><span class="methodLine"><i>1148</i>         {                                                                                                                           
</span><span class="methodLine"><i>1149</i>             numbers = <span class="NullifyObjectInitialization tooltip"><span class="tooltiptext">Mutated Text: null 
Mutation Operator Type: NullifyObjectInitialization 
Node ID: 8728</span>new LinkedHashMap<Integer, COSObjectable>()</span>;                                                                  
</span><span class="methodLine"><i>1150</i>         }                                                                                                                           
</span><span class="methodLine"><i>1151</i>         else                                                                                                                        
</span><span class="methodLine"><i>1152</i>         {                                                                                                                           
</span><span class="outsideLine"><i>1153</i>             // must copy because the map is read only                                                                               
</span><span class="methodLine"><i>1154</i>             numbers = <span class="NullifyObjectInitialization tooltip"><span class="tooltiptext">Mutated Text: null 
Mutation Operator Type: NullifyObjectInitialization 
Node ID: 8731</span>new LinkedHashMap<Integer, COSObjectable>(numbers)</span>;                                                           
</span><span class="methodLine"><i>1155</i>         }                                                                                                                           
</span><span class="methodLine"><i>1156</i>         List<PDNumberTreeNode> kids = tree.getKids();                                                                               
</span><span class="methodLine"><i>1157</i>         if (<span class="RemoveNullCheck tooltip"><span class="tooltiptext">Mutated Text: true 
Mutation Operator Type: RemoveNullCheck 
Node ID: 3435</span>kids <span class="RelationalOperatorReplacement tooltip"><span class="tooltiptext">Mutated Text: == 
Mutation Operator Type: RelationalOperatorReplacement 
Node ID: 3435</span>!=</span> null</span>)                                                                                                           
</span><span class="methodLine"><i>1158</i>         {                                                                                                                           
</span><span class="methodLine"><i>1159</i>             for (PDNumberTreeNode kid : kids)                                                                                       
</span><span class="methodLine"><i>1160</i>             {                                                                                                                       
</span><span class="methodLine"><i>1161</i>                 numbers.putAll(getNumberTreeAsMap(kid));                                                                            
</span><span class="methodLine"><i>1162</i>             }                                                                                                                       
</span><span class="methodLine"><i>1163</i>         }                                                                                                                           
</span><span class="methodLine"><i>1164</i>         <span class="NullifyReturnValue tooltip"><span class="tooltiptext">Mutated Text: return null; 
Mutation Operator Type: NullifyReturnValue 
Node ID: 2326</span>return numbers;</span>                                                                                                             
</span><span class="methodLine"><i>1165</i>     }</span>                                                                                                                               
</span><span class="outsideLine"><i>1166</i>                                                                                                                                     
</span><span class="outsideLine"><i>1167</i>     private void mergeRoleMap(PDStructureTreeRoot srcStructTree, PDStructureTreeRoot destStructTree)                                
</span><span class="methodLine"><i>1168</i>     <span class="RemoveMethod tooltip"><span class="tooltiptext">Mutated Text: {
// void -- no return //
}
 
Mutation Operator Type: RemoveMethod 
Node ID: 1327</span>{</span>                                                                                                                               
</span><span class="methodLine"><i>1169</i>         COSDictionary srcDict = srcStructTree.getCOSObject().getCOSDictionary(COSName.ROLE_MAP);                                    
</span><span class="methodLine"><i>1170</i>         COSDictionary destDict = destStructTree.getCOSObject().getCOSDictionary(COSName.ROLE_MAP);                                  
</span><span class="methodLine"><i>1171</i>         if (<span class="RemoveNullCheck tooltip"><span class="tooltiptext">Mutated Text: false 
Mutation Operator Type: RemoveNullCheck 
Node ID: 3446</span>srcDict <span class="RelationalOperatorReplacement tooltip"><span class="tooltiptext">Mutated Text: != 
Mutation Operator Type: RelationalOperatorReplacement 
Node ID: 3446</span>==</span> null</span>)                                                                                                        
</span><span class="methodLine"><i>1172</i>         {                                                                                                                           
</span><span class="methodLine"><i>1173</i>             return;                                                                                                                 
</span><span class="methodLine"><i>1174</i>         }                                                                                                                           
</span><span class="methodLine"><i>1175</i>         if (<span class="RemoveNullCheck tooltip"><span class="tooltiptext">Mutated Text: false 
Mutation Operator Type: RemoveNullCheck 
Node ID: 3450</span>destDict <span class="RelationalOperatorReplacement tooltip"><span class="tooltiptext">Mutated Text: != 
Mutation Operator Type: RelationalOperatorReplacement 
Node ID: 3450</span>==</span> null</span>)                                                                                                       
</span><span class="methodLine"><i>1176</i>         {                                                                                                                           
</span><span class="methodLine"><i>1177</i>             destStructTree.getCOSObject().setItem(COSName.ROLE_MAP, srcDict); // clone not needed                                   
</span><span class="methodLine"><i>1178</i>             return;                                                                                                                 
</span><span class="methodLine"><i>1179</i>         }                                                                                                                           
</span><span class="methodLine"><i>1180</i>         for (Map.Entry<COSName, COSBase> entry : srcDict.entrySet())                                                                
</span><span class="methodLine"><i>1181</i>         {                                                                                                                           
</span><span class="methodLine"><i>1182</i>             COSBase destValue = destDict.getDictionaryObject(entry.getKey());                                                       
</span><span class="methodLine"><i>1183</i>             if (<span class="RemoveNullCheck tooltip"><span class="tooltiptext">Mutated Text: true 
Mutation Operator Type: RemoveNullCheck 
Node ID: 7831</span>destValue <span class="RelationalOperatorReplacement tooltip"><span class="tooltiptext">Mutated Text: == 
Mutation Operator Type: RelationalOperatorReplacement 
Node ID: 7831</span>!=</span> null</span> <span class="ConditionalOperatorReplacement tooltip"><span class="tooltiptext">Mutated Text: || 
Mutation Operator Type: ConditionalOperatorReplacement 
Node ID: 6883</span>&&</span> destValue.equals(entry.getValue()))                                                            
</span><span class="methodLine"><i>1184</i>             {                                                                                                                       
</span><span class="outsideLine"><i>1185</i>                 // already exists, but identical                                                                                    
</span><span class="methodLine"><i>1186</i>                 continue;                                                                                                           
</span><span class="methodLine"><i>1187</i>             }                                                                                                                       
</span><span class="methodLine"><i>1188</i>             if (destDict.containsKey(entry.getKey()))                                                                               
</span><span class="methodLine"><i>1189</i>             {                                                                                                                       
</span><span class="methodLine"><i>1190</i>                 LOG.warn("key " + entry.getKey() + " already exists in destination RoleMap");                                       
</span><span class="methodLine"><i>1191</i>             }                                                                                                                       
</span><span class="methodLine"><i>1192</i>             else                                                                                                                    
</span><span class="methodLine"><i>1193</i>             {                                                                                                                       
</span><span class="methodLine"><i>1194</i>                 destDict.setItem(entry.getKey(), entry.getValue());                                                                 
</span><span class="methodLine"><i>1195</i>             }                                                                                                                       
</span><span class="methodLine"><i>1196</i>         }                                                                                                                           
</span><span class="methodLine"><i>1197</i>     }</span>                                                                                                                               
</span><span class="outsideLine"><i>1198</i>                                                                                                                                     
</span><span class="outsideLine"><i>1199</i>     // copy outputIntents to destination, but avoid duplicate OutputConditionIdentifier,                                            
</span><span class="outsideLine"><i>1200</i>     // except when it is missing or is named "Custom".                                                                              
</span><span class="outsideLine"><i>1201</i>     private void mergeOutputIntents(PDFCloneUtility cloner,                                                                         
</span><span class="outsideLine"><i>1202</i>             PDDocumentCatalog srcCatalog, PDDocumentCatalog destCatalog) throws IOException                                         
</span><span class="methodLine"><i>1203</i>     <span class="RemoveMethod tooltip"><span class="tooltiptext">Mutated Text: {
// void -- no return //
}
 
Mutation Operator Type: RemoveMethod 
Node ID: 1334</span>{</span>                                                                                                                               
</span><span class="methodLine"><i>1204</i>         List<PDOutputIntent> srcOutputIntents = srcCatalog.getOutputIntents();                                                      
</span><span class="methodLine"><i>1205</i>         List<PDOutputIntent> dstOutputIntents = destCatalog.getOutputIntents();                                                     
</span><span class="methodLine"><i>1206</i>         for (PDOutputIntent srcOI : srcOutputIntents)                                                                               
</span><span class="methodLine"><i>1207</i>         {                                                                                                                           
</span><span class="methodLine"><i>1208</i>             String srcOCI = srcOI.getOutputConditionIdentifier();                                                                   
</span><span class="methodLine"><i>1209</i>             if (<span class="RemoveNullCheck tooltip"><span class="tooltiptext">Mutated Text: true 
Mutation Operator Type: RemoveNullCheck 
Node ID: 7857</span>srcOCI <span class="RelationalOperatorReplacement tooltip"><span class="tooltiptext">Mutated Text: == 
Mutation Operator Type: RelationalOperatorReplacement 
Node ID: 7857</span>!=</span> null</span> <span class="ConditionalOperatorReplacement tooltip"><span class="tooltiptext">Mutated Text: || 
Mutation Operator Type: ConditionalOperatorReplacement 
Node ID: 6902</span>&&</span> <span class="ConditionalOperatorDeletion tooltip"><span class="tooltiptext">Mutated Text:   
Mutation Operator Type: ConditionalOperatorDeletion 
Node ID: 7859</span>!</span>"Custom".equals(srcOCI))                                                                         
</span><span class="methodLine"><i>1210</i>             {                                                                                                                       
</span><span class="outsideLine"><i>1211</i>                 // is that identifier already there?                                                                                
</span><span class="methodLine"><i>1212</i>                 boolean skip = false;                                                                                               
</span><span class="methodLine"><i>1213</i>                 for (PDOutputIntent dstOI : dstOutputIntents)                                                                       
</span><span class="methodLine"><i>1214</i>                 {                                                                                                                   
</span><span class="methodLine"><i>1215</i>                     if (dstOI.getOutputConditionIdentifier().equals(srcOCI))                                                        
</span><span class="methodLine"><i>1216</i>                     {                                                                                                               
</span><span class="methodLine"><i>1217</i>                         skip = true;                                                                                                
</span><span class="methodLine"><i>1218</i>                         break;                                                                                                      
</span><span class="methodLine"><i>1219</i>                     }                                                                                                               
</span><span class="methodLine"><i>1220</i>                 }                                                                                                                   
</span><span class="methodLine"><i>1221</i>                 if (skip)                                                                                                           
</span><span class="methodLine"><i>1222</i>                 {                                                                                                                   
</span><span class="methodLine"><i>1223</i>                     continue;                                                                                                       
</span><span class="methodLine"><i>1224</i>                 }                                                                                                                   
</span><span class="methodLine"><i>1225</i>             }                                                                                                                       
</span><span class="methodLine"><i>1226</i>             destCatalog.addOutputIntent(<span class="NullifyObjectInitialization tooltip"><span class="tooltiptext">Mutated Text: null 
Mutation Operator Type: NullifyObjectInitialization 
Node ID: 9638</span>new PDOutputIntent((COSDictionary) cloner.cloneForNewDocument(srcOI))</span>);                     
</span><span class="methodLine"><i>1227</i>             dstOutputIntents.add(srcOI);                                                                                            
</span><span class="methodLine"><i>1228</i>         }                                                                                                                           
</span><span class="methodLine"><i>1229</i>     }</span>                                                                                                                               
</span><span class="outsideLine"><i>1230</i>                                                                                                                                     
</span><span class="outsideLine"><i>1231</i>     /**                                                                                                                             
</span><span class="outsideLine"><i>1232</i>      * Merge the contents of the source form into the destination form for the                                                      
</span><span class="outsideLine"><i>1233</i>      * destination file.                                                                                                            
</span><span class="outsideLine"><i>1234</i>      *                                                                                                                              
</span><span class="outsideLine"><i>1235</i>      * @param cloner the object cloner for the destination document                                                                 
</span><span class="outsideLine"><i>1236</i>      * @param destAcroForm the destination form                                                                                     
</span><span class="outsideLine"><i>1237</i>      * @param srcAcroForm the source form                                                                                           
</span><span class="outsideLine"><i>1238</i>      * @throws IOException If an error occurs while adding the field.                                                               
</span><span class="outsideLine"><i>1239</i>      */                                                                                                                             
</span><span class="outsideLine"><i>1240</i>     private void mergeAcroForm(PDFCloneUtility cloner, PDDocumentCatalog destCatalog,                                               
</span><span class="outsideLine"><i>1241</i>             PDDocumentCatalog srcCatalog ) throws IOException                                                                       
</span><span class="methodLine"><i>1242</i>     <span class="RemoveMethod tooltip"><span class="tooltiptext">Mutated Text: {
// void -- no return //
}
 
Mutation Operator Type: RemoveMethod 
Node ID: 1341</span>{</span>                                                                                                                               
</span><span class="methodLine"><i>1243</i>         try                                                                                                                         
</span><span class="methodLine"><i>1244</i>         {                                                                                                                           
</span><span class="methodLine"><i>1245</i>             PDAcroForm destAcroForm = destCatalog.getAcroForm();                                                                    
</span><span class="methodLine"><i>1246</i>             PDAcroForm srcAcroForm = srcCatalog.getAcroForm();                                                                      
</span><span class="outsideLine"><i>1247</i>                                                                                                                                     
</span><span class="methodLine"><i>1248</i>             if (<span class="RemoveNullCheck tooltip"><span class="tooltiptext">Mutated Text: false 
Mutation Operator Type: RemoveNullCheck 
Node ID: 6911</span>destAcroForm <span class="RelationalOperatorReplacement tooltip"><span class="tooltiptext">Mutated Text: != 
Mutation Operator Type: RelationalOperatorReplacement 
Node ID: 6911</span>==</span> null</span> <span class="ConditionalOperatorReplacement tooltip"><span class="tooltiptext">Mutated Text: || 
Mutation Operator Type: ConditionalOperatorReplacement 
Node ID: 6032</span>&&</span> <span class="RemoveNullCheck tooltip"><span class="tooltiptext">Mutated Text: true 
Mutation Operator Type: RemoveNullCheck 
Node ID: 6913</span>srcAcroForm <span class="RelationalOperatorReplacement tooltip"><span class="tooltiptext">Mutated Text: == 
Mutation Operator Type: RelationalOperatorReplacement 
Node ID: 6913</span>!=</span> null</span>)                                                                        
</span><span class="methodLine"><i>1249</i>             {                                                                                                                       
</span><span class="methodLine"><i>1250</i>                 destCatalog.getCOSObject().setItem(COSName.ACRO_FORM,                                                               
</span><span class="methodLine"><i>1251</i>                         cloner.cloneForNewDocument(srcAcroForm.getCOSObject()));                                                    
</span><span class="outsideLine"><i>1252</i>                                                                                                                                     
</span><span class="methodLine"><i>1253</i>             }                                                                                                                       
</span><span class="methodLine"><i>1254</i>             else                                                                                                                    
</span><span class="methodLine"><i>1255</i>             {                                                                                                                       
</span><span class="methodLine"><i>1256</i>                 if (<span class="RemoveNullCheck tooltip"><span class="tooltiptext">Mutated Text: true 
Mutation Operator Type: RemoveNullCheck 
Node ID: 9653</span>srcAcroForm <span class="RelationalOperatorReplacement tooltip"><span class="tooltiptext">Mutated Text: == 
Mutation Operator Type: RelationalOperatorReplacement 
Node ID: 9653</span>!=</span> null</span>)                                                                                            
</span><span class="methodLine"><i>1257</i>                 {                                                                                                                   
</span><span class="methodLine"><i>1258</i>                     if (acroFormMergeMode <span class="RelationalOperatorReplacement tooltip"><span class="tooltiptext">Mutated Text: != 
Mutation Operator Type: RelationalOperatorReplacement 
Node ID: 12445</span>==</span> AcroFormMergeMode.PDFBOX_LEGACY_MODE)                                                  
</span><span class="methodLine"><i>1259</i>                     {                                                                                                               
</span><span class="methodLine"><i>1260</i>                         acroFormLegacyMode(cloner, destAcroForm, srcAcroForm);                                                      
</span><span class="methodLine"><i>1261</i>                     }                                                                                                               
</span><span class="methodLine"><i>1262</i>                     else if (acroFormMergeMode <span class="RelationalOperatorReplacement tooltip"><span class="tooltiptext">Mutated Text: != 
Mutation Operator Type: RelationalOperatorReplacement 
Node ID: 12977</span>==</span> AcroFormMergeMode.JOIN_FORM_FIELDS_MODE)                                          
</span><span class="methodLine"><i>1263</i>                     {                                                                                                               
</span><span class="methodLine"><i>1264</i>                         acroFormJoinFieldsMode(cloner, destAcroForm, srcAcroForm);                                                  
</span><span class="methodLine"><i>1265</i>                     }                                                                                                               
</span><span class="methodLine"><i>1266</i>                 }                                                                                                                   
</span><span class="methodLine"><i>1267</i>             }                                                                                                                       
</span><span class="methodLine"><i>1268</i>         }                                                                                                                           
</span><span class="methodLine"><i>1269</i>         catch (IOException e)                                                                                                       
</span><span class="methodLine"><i>1270</i>         {                                                                                                                           
</span><span class="outsideLine"><i>1271</i>             // if we are not ignoring exceptions, we'll re-throw this                                                               
</span><span class="methodLine"><i>1272</i>             if (<span class="ConditionalOperatorDeletion tooltip"><span class="tooltiptext">Mutated Text:   
Mutation Operator Type: ConditionalOperatorDeletion 
Node ID: 6921</span>!</span>ignoreAcroFormErrors)                                                                                              
</span><span class="methodLine"><i>1273</i>             {                                                                                                                       
</span><span class="methodLine"><i>1274</i>                 throw <span class="NullifyObjectInitialization tooltip"><span class="tooltiptext">Mutated Text: null 
Mutation Operator Type: NullifyObjectInitialization 
Node ID: 10382</span>new IOException(e)</span>;                                                                                           
</span><span class="methodLine"><i>1275</i>             }                                                                                                                       
</span><span class="methodLine"><i>1276</i>         }                                                                                                                           
</span><span class="methodLine"><i>1277</i>     }</span>                                                                                                                               
</span><span class="outsideLine"><i>1278</i>                                                                                                                                     
</span><span class="outsideLine"><i>1279</i>     /*                                                                                                                              
</span><span class="outsideLine"><i>1280</i>      * Merge the contents of the source form into the destination form for the                                                      
</span><span class="outsideLine"><i>1281</i>      * destination file.                                                                                                            
</span><span class="outsideLine"><i>1282</i>      *                                                                                                                              
</span><span class="outsideLine"><i>1283</i>      * @param cloner the object cloner for the destination document                                                                 
</span><span class="outsideLine"><i>1284</i>      * @param destAcroForm the destination form                                                                                     
</span><span class="outsideLine"><i>1285</i>      * @param srcAcroForm the source form                                                                                           
</span><span class="outsideLine"><i>1286</i>      * @throws IOException If an error occurs while adding the field.                                                               
</span><span class="outsideLine"><i>1287</i>      */                                                                                                                             
</span><span class="outsideLine"><i>1288</i>     private void acroFormJoinFieldsMode(PDFCloneUtility cloner, PDAcroForm destAcroForm, PDAcroForm srcAcroForm)                    
</span><span class="outsideLine"><i>1289</i>             throws IOException                                                                                                      
</span><span class="methodLine"><i>1290</i>     <span class="RemoveMethod tooltip"><span class="tooltiptext">Mutated Text: {
// void -- no return //
}
 
Mutation Operator Type: RemoveMethod 
Node ID: 1348</span>{</span>                                                                                                                               
</span><span class="methodLine"><i>1291</i>         List<PDField> srcFields = srcAcroForm.getFields();                                                                          
</span><span class="methodLine"><i>1292</i>         COSArray destFields;                                                                                                        
</span><span class="outsideLine"><i>1293</i>                                                                                                                                     
</span><span class="methodLine"><i>1294</i>         if (<span class="RemoveNullCheck tooltip"><span class="tooltiptext">Mutated Text: true 
Mutation Operator Type: RemoveNullCheck 
Node ID: 4229</span>srcFields <span class="RelationalOperatorReplacement tooltip"><span class="tooltiptext">Mutated Text: == 
Mutation Operator Type: RelationalOperatorReplacement 
Node ID: 4229</span>!=</span> null</span> <span class="ConditionalOperatorReplacement tooltip"><span class="tooltiptext">Mutated Text: || 
Mutation Operator Type: ConditionalOperatorReplacement 
Node ID: 3486</span>&&</span> <span class="ConditionalOperatorDeletion tooltip"><span class="tooltiptext">Mutated Text:   
Mutation Operator Type: ConditionalOperatorDeletion 
Node ID: 4231</span>!</span>srcFields.isEmpty())                                                                              
</span><span class="methodLine"><i>1295</i>         {                                                                                                                           
</span><span class="outsideLine"><i>1296</i>             // get the destinations root fields. Could be that the entry doesn't exist                                              
</span><span class="outsideLine"><i>1297</i>             // or is of wrong type                                                                                                  
</span><span class="methodLine"><i>1298</i>             COSBase base = destAcroForm.getCOSObject().getItem(COSName.FIELDS);                                                     
</span><span class="methodLine"><i>1299</i>             if (base instanceof COSArray)                                                                                           
</span><span class="methodLine"><i>1300</i>             {                                                                                                                       
</span><span class="methodLine"><i>1301</i>                 destFields = (COSArray) base;                                                                                       
</span><span class="methodLine"><i>1302</i>             }                                                                                                                       
</span><span class="methodLine"><i>1303</i>             else                                                                                                                    
</span><span class="methodLine"><i>1304</i>             {                                                                                                                       
</span><span class="methodLine"><i>1305</i>                 destFields = <span class="NullifyObjectInitialization tooltip"><span class="tooltiptext">Mutated Text: null 
Mutation Operator Type: NullifyObjectInitialization 
Node ID: 11804</span>new COSArray()</span>;                                                                                        
</span><span class="methodLine"><i>1306</i>             }                                                                                                                       
</span><span class="outsideLine"><i>1307</i>                                                                                                                                     
</span><span class="methodLine"><i>1308</i>             for (PDField srcField : srcAcroForm.getFieldTree())                                                                     
</span><span class="methodLine"><i>1309</i>             {                                                                                                                       
</span><span class="outsideLine"><i>1310</i>                 // if the form already has a field with this name then we need to rename this field                                 
</span><span class="outsideLine"><i>1311</i>                 // to prevent merge conflicts.                                                                                      
</span><span class="methodLine"><i>1312</i>                 PDField destinationField = destAcroForm.getField(srcField.getFullyQualifiedName());                                 
</span><span class="methodLine"><i>1313</i>                 if (<span class="RemoveNullCheck tooltip"><span class="tooltiptext">Mutated Text: false 
Mutation Operator Type: RemoveNullCheck 
Node ID: 10393</span>destinationField <span class="RelationalOperatorReplacement tooltip"><span class="tooltiptext">Mutated Text: != 
Mutation Operator Type: RelationalOperatorReplacement 
Node ID: 10393</span>==</span> null</span>)                                                                                       
</span><span class="methodLine"><i>1314</i>                 {                                                                                                                   
</span><span class="outsideLine"><i>1315</i>                     // field doesn't exist - can safely add it                                                                      
</span><span class="methodLine"><i>1316</i>                     COSDictionary importedField = (COSDictionary) cloner.cloneForNewDocument(srcField.getCOSObject());              
</span><span class="methodLine"><i>1317</i>                     destFields.add(importedField);                                                                                  
</span><span class="methodLine"><i>1318</i>                 }                                                                                                                   
</span><span class="methodLine"><i>1319</i>                 else                                                                                                                
</span><span class="methodLine"><i>1320</i>                 {                                                                                                                   
</span><span class="methodLine"><i>1321</i>                     mergeFields(cloner, destinationField, srcField);                                                                
</span><span class="methodLine"><i>1322</i>                 }                                                                                                                   
</span><span class="methodLine"><i>1323</i>             }                                                                                                                       
</span><span class="methodLine"><i>1324</i>             destAcroForm.getCOSObject().setItem(COSName.FIELDS,destFields);                                                         
</span><span class="methodLine"><i>1325</i>         }                                                                                                                           
</span><span class="methodLine"><i>1326</i>     }</span>                                                                                                                               
</span><span class="outsideLine"><i>1327</i>                                                                                                                                     
</span><span class="outsideLine"><i>1328</i>     private void mergeFields(PDFCloneUtility cloner, PDField destField, PDField srcField)                                           
</span><span class="methodLine"><i>1329</i>     <span class="RemoveMethod tooltip"><span class="tooltiptext">Mutated Text: {
// void -- no return //
}
 
Mutation Operator Type: RemoveMethod 
Node ID: 1353</span>{</span>                                                                                                                               
</span><span class="methodLine"><i>1330</i>         if (destField instanceof PDNonTerminalField <span class="ConditionalOperatorReplacement tooltip"><span class="tooltiptext">Mutated Text: || 
Mutation Operator Type: ConditionalOperatorReplacement 
Node ID: 3493</span>&&</span> srcField instanceof PDNonTerminalField)                                      
</span><span class="methodLine"><i>1331</i>         {                                                                                                                           
</span><span class="methodLine"><i>1332</i>             LOG.info("Skipping non terminal field " + srcField.getFullyQualifiedName());                                            
</span><span class="methodLine"><i>1333</i>             return;                                                                                                                 
</span><span class="methodLine"><i>1334</i>         }                                                                                                                           
</span><span class="outsideLine"><i>1335</i>                                                                                                                                     
</span><span class="methodLine"><i>1336</i>         if (destField.getFieldType() <span class="RelationalOperatorReplacement tooltip"><span class="tooltiptext">Mutated Text: != 
Mutation Operator Type: RelationalOperatorReplacement 
Node ID: 4245</span>==</span> "Tx" <span class="ConditionalOperatorReplacement tooltip"><span class="tooltiptext">Mutated Text: || 
Mutation Operator Type: ConditionalOperatorReplacement 
Node ID: 3497</span>&&</span> destField.getFieldType() <span class="RelationalOperatorReplacement tooltip"><span class="tooltiptext">Mutated Text: != 
Mutation Operator Type: RelationalOperatorReplacement 
Node ID: 4247</span>==</span> "Tx")                                                   
</span><span class="methodLine"><i>1337</i>         {                                                                                                                           
</span><span class="outsideLine"><i>1338</i>             // if the field already has multiple widgets we can add to the array                                                    
</span><span class="methodLine"><i>1339</i>             if (destField.getCOSObject().containsKey(COSName.KIDS))                                                                 
</span><span class="methodLine"><i>1340</i>             {                                                                                                                       
</span><span class="methodLine"><i>1341</i>                 COSArray widgets = destField.getCOSObject().getCOSArray(COSName.KIDS);                                              
</span><span class="methodLine"><i>1342</i>                 for (PDAnnotationWidget srcWidget : srcField.getWidgets())                                                          
</span><span class="methodLine"><i>1343</i>                 {                                                                                                                   
</span><span class="methodLine"><i>1344</i>                     try                                                                                                             
</span><span class="methodLine"><i>1345</i>                     {                                                                                                               
</span><span class="methodLine"><i>1346</i>                         widgets.add(cloner.cloneForNewDocument(srcWidget.getCOSObject()));                                          
</span><span class="methodLine"><i>1347</i>                     }                                                                                                               
</span><span class="methodLine"><i>1348</i>                     catch (IOException ioe)                                                                                         
</span><span class="methodLine"><i>1349</i>                     {                                                                                                               
</span><span class="methodLine"><i>1350</i>                         LOG.warn("Unable to clone widget for source field " + srcField.getFullyQualifiedName());                    
</span><span class="methodLine"><i>1351</i>                     }                                                                                                               
</span><span class="outsideLine"><i>1352</i>                                                                                                                                     
</span><span class="methodLine"><i>1353</i>                 }                                                                                                                   
</span><span class="methodLine"><i>1354</i>             }                                                                                                                       
</span><span class="methodLine"><i>1355</i>             else                                                                                                                    
</span><span class="methodLine"><i>1356</i>             {                                                                                                                       
</span><span class="methodLine"><i>1357</i>                 COSArray widgets = <span class="NullifyObjectInitialization tooltip"><span class="tooltiptext">Mutated Text: null 
Mutation Operator Type: NullifyObjectInitialization 
Node ID: 13011</span>new COSArray()</span>;                                                                                  
</span><span class="methodLine"><i>1358</i>                 try                                                                                                                 
</span><span class="methodLine"><i>1359</i>                 {                                                                                                                   
</span><span class="methodLine"><i>1360</i>                     COSDictionary widgetAsCOS = (COSDictionary) cloner.cloneForNewDocument(destField.getWidgets().get(0));          
</span><span class="methodLine"><i>1361</i>                     cleanupWidgetCOSDictionary(widgetAsCOS, true);                                                                  
</span><span class="methodLine"><i>1362</i>                     widgetAsCOS.setItem(COSName.PARENT, destField);                                                                 
</span><span class="methodLine"><i>1363</i>                     widgets.add(widgetAsCOS);                                                                                       
</span><span class="methodLine"><i>1364</i>                     for (PDAnnotationWidget srcWidget : srcField.getWidgets())                                                      
</span><span class="methodLine"><i>1365</i>                     {                                                                                                               
</span><span class="methodLine"><i>1366</i>                         try                                                                                                         
</span><span class="methodLine"><i>1367</i>                         {                                                                                                           
</span><span class="methodLine"><i>1368</i>                             widgetAsCOS = (COSDictionary) cloner.cloneForNewDocument(srcWidget.getCOSObject());                     
</span><span class="methodLine"><i>1369</i>                             cleanupWidgetCOSDictionary(widgetAsCOS, false);                                                         
</span><span class="methodLine"><i>1370</i>                             widgetAsCOS.setItem(COSName.PARENT, destField);                                                         
</span><span class="methodLine"><i>1371</i>                             widgets.add(widgetAsCOS);                                                                               
</span><span class="methodLine"><i>1372</i>                         }                                                                                                           
</span><span class="methodLine"><i>1373</i>                         catch (IOException ioe)                                                                                     
</span><span class="methodLine"><i>1374</i>                         {                                                                                                           
</span><span class="methodLine"><i>1375</i>                             LOG.warn("Unable to clone widget for source field " + srcField.getFullyQualifiedName());                
</span><span class="methodLine"><i>1376</i>                         }                                                                                                           
</span><span class="outsideLine"><i>1377</i>                                                                                                                                     
</span><span class="methodLine"><i>1378</i>                     }                                                                                                               
</span><span class="methodLine"><i>1379</i>                     destField.getCOSObject().setItem(COSName.KIDS, widgets);                                                        
</span><span class="methodLine"><i>1380</i>                     cleanupFieldCOSDictionary(destField.getCOSObject());                                                            
</span><span class="methodLine"><i>1381</i>                 }                                                                                                                   
</span><span class="methodLine"><i>1382</i>                 catch (IOException ioe)                                                                                             
</span><span class="methodLine"><i>1383</i>                 {                                                                                                                   
</span><span class="methodLine"><i>1384</i>                     LOG.warn("Unable to clone widget for destination field " + destField.getFullyQualifiedName());                  
</span><span class="methodLine"><i>1385</i>                 }                                                                                                                   
</span><span class="methodLine"><i>1386</i>             }                                                                                                                       
</span><span class="methodLine"><i>1387</i>         }                                                                                                                           
</span><span class="methodLine"><i>1388</i>         else                                                                                                                        
</span><span class="methodLine"><i>1389</i>         {                                                                                                                           
</span><span class="methodLine"><i>1390</i>             LOG.info("Only merging two text fields is currently supported");                                                        
</span><span class="methodLine"><i>1391</i>             LOG.info("Skipping merging of " + srcField.getFullyQualifiedName() + " into " + destField.getFullyQualifiedName());     
</span><span class="methodLine"><i>1392</i>         }                                                                                                                           
</span><span class="methodLine"><i>1393</i>     }</span>                                                                                                                               
</span><span class="outsideLine"><i>1394</i>                                                                                                                                     
</span><span class="outsideLine"><i>1395</i>     // Remove entries from field dictionary which belong to a widget                                                                
</span><span class="outsideLine"><i>1396</i>     // Needed when splitting a joint field/widget dictionary                                                                        
</span><span class="outsideLine"><i>1397</i>     private void cleanupFieldCOSDictionary(COSDictionary fieldCos)                                                                  
</span><span class="methodLine"><i>1398</i>     <span class="RemoveMethod tooltip"><span class="tooltiptext">Mutated Text: {
// void -- no return //
}
 
Mutation Operator Type: RemoveMethod 
Node ID: 1358</span>{</span>                                                                                                                               
</span><span class="outsideLine"><i>1399</i>         //TODO: align that list with the PDF spec. Vurrently only based on sample forms                                             
</span><span class="methodLine"><i>1400</i>         fieldCos.removeItem(COSName.F);                                                                                             
</span><span class="methodLine"><i>1401</i>         fieldCos.removeItem(COSName.MK);                                                                                            
</span><span class="methodLine"><i>1402</i>         fieldCos.removeItem(COSName.P);                                                                                             
</span><span class="methodLine"><i>1403</i>         fieldCos.removeItem(COSName.RECT);                                                                                          
</span><span class="methodLine"><i>1404</i>         fieldCos.removeItem(COSName.SUBTYPE);                                                                                       
</span><span class="methodLine"><i>1405</i>         fieldCos.removeItem(COSName.TYPE);                                                                                          
</span><span class="methodLine"><i>1406</i>     }</span>                                                                                                                               
</span><span class="outsideLine"><i>1407</i>                                                                                                                                     
</span><span class="outsideLine"><i>1408</i>     // remove entries from widget dictionary which belong to fields                                                                 
</span><span class="outsideLine"><i>1409</i>     // Needed when splitting a joint field/widget dictionary                                                                        
</span><span class="outsideLine"><i>1410</i>     private void cleanupWidgetCOSDictionary(COSDictionary widgetCos, boolean removeDAEntry)                                         
</span><span class="methodLine"><i>1411</i>     <span class="RemoveMethod tooltip"><span class="tooltiptext">Mutated Text: {
// void -- no return //
}
 
Mutation Operator Type: RemoveMethod 
Node ID: 1363</span>{</span>                                                                                                                               
</span><span class="outsideLine"><i>1412</i>         //TODO: align that list with the PDF spec. Vurrently only based on sample forms                                             
</span><span class="outsideLine"><i>1413</i>         // Acrobat removes the DA entry only for the first widget                                                                   
</span><span class="methodLine"><i>1414</i>         if (removeDAEntry)                                                                                                          
</span><span class="methodLine"><i>1415</i>         {                                                                                                                           
</span><span class="methodLine"><i>1416</i>             widgetCos.removeItem(COSName.DA);                                                                                       
</span><span class="methodLine"><i>1417</i>         }                                                                                                                           
</span><span class="methodLine"><i>1418</i>         widgetCos.removeItem(COSName.FT);                                                                                           
</span><span class="methodLine"><i>1419</i>         widgetCos.removeItem(COSName.T);                                                                                            
</span><span class="methodLine"><i>1420</i>         widgetCos.removeItem(COSName.V);                                                                                            
</span><span class="methodLine"><i>1421</i>     }</span>                                                                                                                               
</span><span class="outsideLine"><i>1422</i>                                                                                                                                     
</span><span class="outsideLine"><i>1423</i>     /*                                                                                                                              
</span><span class="outsideLine"><i>1424</i>      * Merge the contents of the source form into the destination form for the                                                      
</span><span class="outsideLine"><i>1425</i>      * destination file.                                                                                                            
</span><span class="outsideLine"><i>1426</i>      *                                                                                                                              
</span><span class="outsideLine"><i>1427</i>      * @param cloner the object cloner for the destination document                                                                 
</span><span class="outsideLine"><i>1428</i>      * @param destAcroForm the destination form                                                                                     
</span><span class="outsideLine"><i>1429</i>      * @param srcAcroForm the source form                                                                                           
</span><span class="outsideLine"><i>1430</i>      * @throws IOException If an error occurs while adding the field.                                                               
</span><span class="outsideLine"><i>1431</i>      */                                                                                                                             
</span><span class="outsideLine"><i>1432</i>     private void acroFormLegacyMode(PDFCloneUtility cloner, PDAcroForm destAcroForm, PDAcroForm srcAcroForm)                        
</span><span class="outsideLine"><i>1433</i>             throws IOException                                                                                                      
</span><span class="methodLine"><i>1434</i>     <span class="RemoveMethod tooltip"><span class="tooltiptext">Mutated Text: {
// void -- no return //
}
 
Mutation Operator Type: RemoveMethod 
Node ID: 1370</span>{</span>                                                                                                                               
</span><span class="methodLine"><i>1435</i>         List<PDField> srcFields = srcAcroForm.getFields();                                                                          
</span><span class="methodLine"><i>1436</i>         COSArray destFields;                                                                                                        
</span><span class="outsideLine"><i>1437</i>                                                                                                                                     
</span><span class="methodLine"><i>1438</i>         if (<span class="RemoveNullCheck tooltip"><span class="tooltiptext">Mutated Text: true 
Mutation Operator Type: RemoveNullCheck 
Node ID: 4299</span>srcFields <span class="RelationalOperatorReplacement tooltip"><span class="tooltiptext">Mutated Text: == 
Mutation Operator Type: RelationalOperatorReplacement 
Node ID: 4299</span>!=</span> null</span> <span class="ConditionalOperatorReplacement tooltip"><span class="tooltiptext">Mutated Text: || 
Mutation Operator Type: ConditionalOperatorReplacement 
Node ID: 3525</span>&&</span> <span class="ConditionalOperatorDeletion tooltip"><span class="tooltiptext">Mutated Text:   
Mutation Operator Type: ConditionalOperatorDeletion 
Node ID: 4301</span>!</span>srcFields.isEmpty())                                                                              
</span><span class="methodLine"><i>1439</i>         {                                                                                                                           
</span><span class="outsideLine"><i>1440</i>             // if a form is merged multiple times using PDFBox the newly generated                                                  
</span><span class="outsideLine"><i>1441</i>             // fields starting with dummyFieldName may already exist. We need to determine the last unique                          
</span><span class="outsideLine"><i>1442</i>             // number used and increment that.                                                                                      
</span><span class="methodLine"><i>1443</i>             final String prefix = "dummyFieldName";                                                                                 
</span><span class="methodLine"><i>1444</i>             final int prefixLength = prefix.length();                                                                               
</span><span class="outsideLine"><i>1445</i>                                                                                                                                     
</span><span class="methodLine"><i>1446</i>             for (PDField destField : destAcroForm.getFieldTree())                                                                   
</span><span class="methodLine"><i>1447</i>             {                                                                                                                       
</span><span class="methodLine"><i>1448</i>                 String fieldName = destField.getPartialName();                                                                      
</span><span class="methodLine"><i>1449</i>                 if (fieldName.startsWith(prefix))                                                                                   
</span><span class="methodLine"><i>1450</i>                 {                                                                                                                   
</span><span class="methodLine"><i>1451</i>                     nextFieldNum = Math.max(nextFieldNum, Integer.parseInt(fieldName.substring(prefixLength)) <span class="ArithmeticOperatorReplacementBinary tooltip"><span class="tooltiptext">Mutated Text: - 
Mutation Operator Type: ArithmeticOperatorReplacementBinary 
Node ID: 14310</span>+</span> 1);                 
</span><span class="methodLine"><i>1452</i>                 }                                                                                                                   
</span><span class="methodLine"><i>1453</i>             }                                                                                                                       
</span><span class="outsideLine"><i>1454</i>                                                                                                                                     
</span><span class="outsideLine"><i>1455</i>             // get the destinations root fields. Could be that the entry doesn't exist                                              
</span><span class="outsideLine"><i>1456</i>             // or is of wrong type                                                                                                  
</span><span class="methodLine"><i>1457</i>             COSBase base = destAcroForm.getCOSObject().getItem(COSName.FIELDS);                                                     
</span><span class="methodLine"><i>1458</i>             if (base instanceof COSArray)                                                                                           
</span><span class="methodLine"><i>1459</i>             {                                                                                                                       
</span><span class="methodLine"><i>1460</i>                 destFields = (COSArray) base;                                                                                       
</span><span class="methodLine"><i>1461</i>             }                                                                                                                       
</span><span class="methodLine"><i>1462</i>             else                                                                                                                    
</span><span class="methodLine"><i>1463</i>             {                                                                                                                       
</span><span class="methodLine"><i>1464</i>                 destFields = <span class="NullifyObjectInitialization tooltip"><span class="tooltiptext">Mutated Text: null 
Mutation Operator Type: NullifyObjectInitialization 
Node ID: 11881</span>new COSArray()</span>;                                                                                        
</span><span class="methodLine"><i>1465</i>             }                                                                                                                       
</span><span class="outsideLine"><i>1466</i>                                                                                                                                     
</span><span class="methodLine"><i>1467</i>             for (PDField srcField : srcAcroForm.getFields())                                                                        
</span><span class="methodLine"><i>1468</i>             {                                                                                                                       
</span><span class="methodLine"><i>1469</i>                 COSDictionary dstField = (COSDictionary) cloner.cloneForNewDocument(srcField.getCOSObject());                       
</span><span class="outsideLine"><i>1470</i>                 // if the form already has a field with this name then we need to rename this field                                 
</span><span class="outsideLine"><i>1471</i>                 // to prevent merge conflicts.                                                                                      
</span><span class="methodLine"><i>1472</i>                 if (<span class="RemoveNullCheck tooltip"><span class="tooltiptext">Mutated Text: true 
Mutation Operator Type: RemoveNullCheck 
Node ID: 10464</span>destAcroForm.getField(srcField.getFullyQualifiedName()) <span class="RelationalOperatorReplacement tooltip"><span class="tooltiptext">Mutated Text: == 
Mutation Operator Type: RelationalOperatorReplacement 
Node ID: 10464</span>!=</span> null</span>)                                                
</span><span class="methodLine"><i>1473</i>                 {                                                                                                                   
</span><span class="methodLine"><i>1474</i>                     dstField.setString(COSName.T, prefix <span class="ArithmeticOperatorReplacementBinary tooltip"><span class="tooltiptext">Mutated Text: - 
Mutation Operator Type: ArithmeticOperatorReplacementBinary 
Node ID: 13981</span>+</span> nextFieldNum<span class="ArithmeticOperatorReplacementShortcut tooltip"><span class="tooltiptext">Mutated Text: -- 
Mutation Operator Type: ArithmeticOperatorReplacementShortcut 
Node ID: 14322</span>++</span>);                                                         
</span><span class="methodLine"><i>1475</i>                 }                                                                                                                   
</span><span class="methodLine"><i>1476</i>                 destFields.add(dstField);                                                                                           
</span><span class="methodLine"><i>1477</i>             }                                                                                                                       
</span><span class="methodLine"><i>1478</i>             destAcroForm.getCOSObject().setItem(COSName.FIELDS,destFields);                                                         
</span><span class="methodLine"><i>1479</i>         }                                                                                                                           
</span><span class="methodLine"><i>1480</i>     }</span>                                                                                                                               
</span><span class="outsideLine"><i>1481</i>                                                                                                                                     
</span><span class="outsideLine"><i>1482</i>     private int nextFieldNum = 1;                                                                                                   
</span><span class="outsideLine"><i>1483</i>                                                                                                                                     
</span><span class="outsideLine"><i>1484</i>     /**                                                                                                                             
</span><span class="outsideLine"><i>1485</i>      * Indicates if acroform errors are ignored or not.                                                                             
</span><span class="outsideLine"><i>1486</i>      *                                                                                                                              
</span><span class="outsideLine"><i>1487</i>      * @return true if acroform errors are ignored                                                                                  
</span><span class="outsideLine"><i>1488</i>      */                                                                                                                             
</span><span class="outsideLine"><i>1489</i>     public boolean isIgnoreAcroFormErrors()                                                                                         
</span><span class="methodLine"><i>1490</i>     <span class="RemoveMethod tooltip"><span class="tooltiptext">Mutated Text: {
    return false;
}
 
Mutation Operator Type: RemoveMethod 
Node ID: 1379</span>{                                                                                                                               
</span><span class="methodLine"><i>1491</i>         return ignoreAcroFormErrors;                                                                                                
</span><span class="methodLine"><i>1492</i>     }</span>                                                                                                                               
</span><span class="outsideLine"><i>1493</i>                                                                                                                                     
</span><span class="outsideLine"><i>1494</i>     /**                                                                                                                             
</span><span class="outsideLine"><i>1495</i>      * Set to true to ignore acroform errors.                                                                                       
</span><span class="outsideLine"><i>1496</i>      *                                                                                                                              
</span><span class="outsideLine"><i>1497</i>      * @param ignoreAcroFormErrorsValue true if acroform errors should be                                                           
</span><span class="outsideLine"><i>1498</i>      * ignored                                                                                                                      
</span><span class="outsideLine"><i>1499</i>      */                                                                                                                             
</span><span class="outsideLine"><i>1500</i>     public void setIgnoreAcroFormErrors(boolean ignoreAcroFormErrorsValue)                                                          
</span><span class="methodLine"><i>1501</i>     <span class="RemoveMethod tooltip"><span class="tooltiptext">Mutated Text: {
// void -- no return //
}
 
Mutation Operator Type: RemoveMethod 
Node ID: 1384</span>{                                                                                                                               
</span><span class="methodLine"><i>1502</i>         ignoreAcroFormErrors = ignoreAcroFormErrorsValue;                                                                           
</span><span class="methodLine"><i>1503</i>     }</span>                                                                                                                               
</span><span class="outsideLine"><i>1504</i>                                                                                                                                     
</span><span class="outsideLine"><i>1505</i>     /**                                                                                                                             
</span><span class="outsideLine"><i>1506</i>      * Update the Pg and Obj references to the new (merged) page.                                                                   
</span><span class="outsideLine"><i>1507</i>      */                                                                                                                             
</span><span class="outsideLine"><i>1508</i>     private void updatePageReferences(PDFCloneUtility cloner,                                                                       
</span><span class="outsideLine"><i>1509</i>             Map<Integer, COSObjectable> numberTreeAsMap,                                                                            
</span><span class="outsideLine"><i>1510</i>             Map<COSDictionary, COSDictionary> objMapping) throws IOException                                                        
</span><span class="methodLine"><i>1511</i>     <span class="RemoveMethod tooltip"><span class="tooltiptext">Mutated Text: {
// void -- no return //
}
 
Mutation Operator Type: RemoveMethod 
Node ID: 1391</span>{</span>                                                                                                                               
</span><span class="methodLine"><i>1512</i>         for (COSObjectable obj : numberTreeAsMap.values())                                                                          
</span><span class="methodLine"><i>1513</i>         {                                                                                                                           
</span><span class="methodLine"><i>1514</i>             if (<span class="RemoveNullCheck tooltip"><span class="tooltiptext">Mutated Text: false 
Mutation Operator Type: RemoveNullCheck 
Node ID: 7015</span>obj <span class="RelationalOperatorReplacement tooltip"><span class="tooltiptext">Mutated Text: != 
Mutation Operator Type: RelationalOperatorReplacement 
Node ID: 7015</span>==</span> null</span>)                                                                                                        
</span><span class="methodLine"><i>1515</i>             {                                                                                                                       
</span><span class="methodLine"><i>1516</i>                 continue;                                                                                                           
</span><span class="methodLine"><i>1517</i>             }                                                                                                                       
</span><span class="methodLine"><i>1518</i>             PDParentTreeValue val = (PDParentTreeValue) obj;                                                                        
</span><span class="methodLine"><i>1519</i>             COSBase base = val.getCOSObject();                                                                                      
</span><span class="methodLine"><i>1520</i>             if (base instanceof COSArray)                                                                                           
</span><span class="methodLine"><i>1521</i>             {                                                                                                                       
</span><span class="methodLine"><i>1522</i>                 updatePageReferences(cloner, (COSArray) base, objMapping);                                                          
</span><span class="methodLine"><i>1523</i>             }                                                                                                                       
</span><span class="methodLine"><i>1524</i>             else                                                                                                                    
</span><span class="methodLine"><i>1525</i>             {                                                                                                                       
</span><span class="methodLine"><i>1526</i>                 updatePageReferences(cloner, (COSDictionary) base, objMapping);                                                     
</span><span class="methodLine"><i>1527</i>             }                                                                                                                       
</span><span class="methodLine"><i>1528</i>         }                                                                                                                           
</span><span class="methodLine"><i>1529</i>     }</span>                                                                                                                               
</span><span class="outsideLine"><i>1530</i>                                                                                                                                     
</span><span class="outsideLine"><i>1531</i>     /**                                                                                                                             
</span><span class="outsideLine"><i>1532</i>      * Update the Pg and Obj references to the new (merged) page.                                                                   
</span><span class="outsideLine"><i>1533</i>      *                                                                                                                              
</span><span class="outsideLine"><i>1534</i>      * @param parentTreeEntry                                                                                                       
</span><span class="outsideLine"><i>1535</i>      * @param objMapping mapping between old and new references                                                                     
</span><span class="outsideLine"><i>1536</i>      */                                                                                                                             
</span><span class="outsideLine"><i>1537</i>     private void updatePageReferences(PDFCloneUtility cloner,                                                                       
</span><span class="outsideLine"><i>1538</i>             COSDictionary parentTreeEntry, Map<COSDictionary, COSDictionary> objMapping)                                            
</span><span class="outsideLine"><i>1539</i>             throws IOException                                                                                                      
</span><span class="methodLine"><i>1540</i>     <span class="RemoveMethod tooltip"><span class="tooltiptext">Mutated Text: {
// void -- no return //
}
 
Mutation Operator Type: RemoveMethod 
Node ID: 1398</span>{</span>                                                                                                                               
</span><span class="methodLine"><i>1541</i>         COSDictionary pageDict = parentTreeEntry.getCOSDictionary(COSName.PG);                                                      
</span><span class="methodLine"><i>1542</i>         if (objMapping.containsKey(pageDict))                                                                                       
</span><span class="methodLine"><i>1543</i>         {                                                                                                                           
</span><span class="methodLine"><i>1544</i>             parentTreeEntry.setItem(COSName.PG, objMapping.get(pageDict));                                                          
</span><span class="methodLine"><i>1545</i>         }                                                                                                                           
</span><span class="methodLine"><i>1546</i>         COSBase obj = parentTreeEntry.getDictionaryObject(COSName.OBJ);                                                             
</span><span class="methodLine"><i>1547</i>         if (obj instanceof COSDictionary)                                                                                           
</span><span class="methodLine"><i>1548</i>         {                                                                                                                           
</span><span class="methodLine"><i>1549</i>             COSDictionary objDict = (COSDictionary) obj;                                                                            
</span><span class="methodLine"><i>1550</i>             if (objMapping.containsKey(objDict))                                                                                    
</span><span class="methodLine"><i>1551</i>             {                                                                                                                       
</span><span class="methodLine"><i>1552</i>                 parentTreeEntry.setItem(COSName.OBJ, objMapping.get(objDict));                                                      
</span><span class="methodLine"><i>1553</i>             }                                                                                                                       
</span><span class="methodLine"><i>1554</i>             else                                                                                                                    
</span><span class="methodLine"><i>1555</i>             {                                                                                                                       
</span><span class="outsideLine"><i>1556</i>                 // PDFBOX-3999: clone objects that are not in mapping to make sure that                                             
</span><span class="outsideLine"><i>1557</i>                 // these don't remain attached to the source document                                                               
</span><span class="methodLine"><i>1558</i>                 COSBase item = parentTreeEntry.getItem(COSName.OBJ);                                                                
</span><span class="methodLine"><i>1559</i>                 if (item instanceof COSObject)                                                                                      
</span><span class="methodLine"><i>1560</i>                 {                                                                                                                   
</span><span class="methodLine"><i>1561</i>                     LOG.debug("clone potential orphan object in structure tree: " + item +                                          
</span><span class="methodLine"><i>1562</i>                             ", Type: " + objDict.getNameAsString(COSName.TYPE) +                                                    
</span><span class="methodLine"><i>1563</i>                             ", Subtype: " + objDict.getNameAsString(COSName.SUBTYPE) +                                              
</span><span class="methodLine"><i>1564</i>                             ", T: " + objDict.getNameAsString(COSName.T));                                                          
</span><span class="methodLine"><i>1565</i>                 }                                                                                                                   
</span><span class="methodLine"><i>1566</i>                 else                                                                                                                
</span><span class="methodLine"><i>1567</i>                 {                                                                                                                   
</span><span class="outsideLine"><i>1568</i>                     // don't display in full because of stack overflow                                                              
</span><span class="methodLine"><i>1569</i>                     LOG.debug("clone potential orphan object in structure tree" +                                                   
</span><span class="methodLine"><i>1570</i>                             ", Type: " + objDict.getNameAsString(COSName.TYPE) +                                                    
</span><span class="methodLine"><i>1571</i>                             ", Subtype: " + objDict.getNameAsString(COSName.SUBTYPE) +                                              
</span><span class="methodLine"><i>1572</i>                             ", T: " + objDict.getNameAsString(COSName.T));                                                          
</span><span class="methodLine"><i>1573</i>                 }                                                                                                                   
</span><span class="methodLine"><i>1574</i>                 parentTreeEntry.setItem(COSName.OBJ, cloner.cloneForNewDocument(obj));                                              
</span><span class="methodLine"><i>1575</i>             }                                                                                                                       
</span><span class="methodLine"><i>1576</i>         }                                                                                                                           
</span><span class="methodLine"><i>1577</i>         COSBase kSubEntry = parentTreeEntry.getDictionaryObject(COSName.K);                                                         
</span><span class="methodLine"><i>1578</i>         if (kSubEntry instanceof COSArray)                                                                                          
</span><span class="methodLine"><i>1579</i>         {                                                                                                                           
</span><span class="methodLine"><i>1580</i>             updatePageReferences(cloner, (COSArray) kSubEntry, objMapping);                                                         
</span><span class="methodLine"><i>1581</i>         }                                                                                                                           
</span><span class="methodLine"><i>1582</i>         else if (kSubEntry instanceof COSDictionary)                                                                                
</span><span class="methodLine"><i>1583</i>         {                                                                                                                           
</span><span class="methodLine"><i>1584</i>             updatePageReferences(cloner, (COSDictionary) kSubEntry, objMapping);                                                    
</span><span class="methodLine"><i>1585</i>         }                                                                                                                           
</span><span class="methodLine"><i>1586</i>     }</span>                                                                                                                               
</span><span class="outsideLine"><i>1587</i>                                                                                                                                     
</span><span class="outsideLine"><i>1588</i>     private void updatePageReferences(PDFCloneUtility cloner,                                                                       
</span><span class="outsideLine"><i>1589</i>             COSArray parentTreeEntry, Map<COSDictionary, COSDictionary> objMapping)                                                 
</span><span class="outsideLine"><i>1590</i>             throws IOException                                                                                                      
</span><span class="methodLine"><i>1591</i>     <span class="RemoveMethod tooltip"><span class="tooltiptext">Mutated Text: {
// void -- no return //
}
 
Mutation Operator Type: RemoveMethod 
Node ID: 1405</span>{</span>                                                                                                                               
</span><span class="methodLine"><i>1592</i>         for (int i = 0; i <span class="RelationalOperatorReplacement tooltip"><span class="tooltiptext">Mutated Text: >= 
Mutation Operator Type: RelationalOperatorReplacement 
Node ID: 3570</span><</span> parentTreeEntry.size(); i<span class="ArithmeticOperatorReplacementShortcut tooltip"><span class="tooltiptext">Mutated Text: -- 
Mutation Operator Type: ArithmeticOperatorReplacementShortcut 
Node ID: 5244</span>++</span>)                                                                            
</span><span class="methodLine"><i>1593</i>         {                                                                                                                           
</span><span class="methodLine"><i>1594</i>             COSBase subEntry = parentTreeEntry.getObject(i);                                                                        
</span><span class="methodLine"><i>1595</i>             if (subEntry instanceof COSArray)                                                                                       
</span><span class="methodLine"><i>1596</i>             {                                                                                                                       
</span><span class="methodLine"><i>1597</i>                 updatePageReferences(cloner, (COSArray) subEntry, objMapping);                                                      
</span><span class="methodLine"><i>1598</i>             }                                                                                                                       
</span><span class="methodLine"><i>1599</i>             else if (subEntry instanceof COSDictionary)                                                                             
</span><span class="methodLine"><i>1600</i>             {                                                                                                                       
</span><span class="methodLine"><i>1601</i>                 updatePageReferences(cloner, (COSDictionary) subEntry, objMapping);                                                 
</span><span class="methodLine"><i>1602</i>             }                                                                                                                       
</span><span class="methodLine"><i>1603</i>         }                                                                                                                           
</span><span class="methodLine"><i>1604</i>     }</span>                                                                                                                               
</span><span class="outsideLine"><i>1605</i>                                                                                                                                     
</span><span class="outsideLine"><i>1606</i>     /**                                                                                                                             
</span><span class="outsideLine"><i>1607</i>      * Update the StructParents and StructParent values in a PDPage.                                                                
</span><span class="outsideLine"><i>1608</i>      *                                                                                                                              
</span><span class="outsideLine"><i>1609</i>      * @param page the new page                                                                                                     
</span><span class="outsideLine"><i>1610</i>      * @param structParentOffset the offset which should be applied                                                                 
</span><span class="outsideLine"><i>1611</i>      */                                                                                                                             
</span><span class="outsideLine"><i>1612</i>     private void updateStructParentEntries(PDPage page, int structParentOffset) throws IOException                                  
</span><span class="methodLine"><i>1613</i>     <span class="RemoveMethod tooltip"><span class="tooltiptext">Mutated Text: {
// void -- no return //
}
 
Mutation Operator Type: RemoveMethod 
Node ID: 1412</span>{</span>                                                                                                                               
</span><span class="methodLine"><i>1614</i>         if (page.getStructParents() <span class="RelationalOperatorReplacement tooltip"><span class="tooltiptext">Mutated Text: < 
Mutation Operator Type: RelationalOperatorReplacement 
Node ID: 3577</span>>=</span> 0)                                                                                           
</span><span class="methodLine"><i>1615</i>         {                                                                                                                           
</span><span class="methodLine"><i>1616</i>             page.setStructParents(page.getStructParents() <span class="ArithmeticOperatorReplacementBinary tooltip"><span class="tooltiptext">Mutated Text: - 
Mutation Operator Type: ArithmeticOperatorReplacementBinary 
Node ID: 8977</span>+</span> structParentOffset);                                                    
</span><span class="methodLine"><i>1617</i>         }                                                                                                                           
</span><span class="methodLine"><i>1618</i>         List<PDAnnotation> annots = page.getAnnotations();                                                                          
</span><span class="methodLine"><i>1619</i>         List<PDAnnotation> newannots = <span class="NullifyObjectInitialization tooltip"><span class="tooltiptext">Mutated Text: null 
Mutation Operator Type: NullifyObjectInitialization 
Node ID: 7082</span>new ArrayList<PDAnnotation>(annots.size())</span>;                                                  
</span><span class="methodLine"><i>1620</i>         for (PDAnnotation annot : annots)                                                                                           
</span><span class="methodLine"><i>1621</i>         {                                                                                                                           
</span><span class="methodLine"><i>1622</i>             if (annot.getStructParent() <span class="RelationalOperatorReplacement tooltip"><span class="tooltiptext">Mutated Text: < 
Mutation Operator Type: RelationalOperatorReplacement 
Node ID: 7084</span>>=</span> 0)                                                                                       
</span><span class="methodLine"><i>1623</i>             {                                                                                                                       
</span><span class="methodLine"><i>1624</i>                 annot.setStructParent(annot.getStructParent() <span class="ArithmeticOperatorReplacementBinary tooltip"><span class="tooltiptext">Mutated Text: - 
Mutation Operator Type: ArithmeticOperatorReplacementBinary 
Node ID: 11958</span>+</span> structParentOffset);                                                
</span><span class="methodLine"><i>1625</i>             }                                                                                                                       
</span><span class="methodLine"><i>1626</i>             newannots.add(annot);                                                                                                   
</span><span class="methodLine"><i>1627</i>         }                                                                                                                           
</span><span class="methodLine"><i>1628</i>         page.setAnnotations(newannots);                                                                                             
</span><span class="methodLine"><i>1629</i>     }</span>                                                                                                                               
</span><span class="outsideLine"><i>1630</i>                                                                                                                                     
</span><span class="outsideLine"><i>1631</i>     /**                                                                                                                             
</span><span class="outsideLine"><i>1632</i>      * Test for dynamic XFA content.                                                                                                
</span><span class="outsideLine"><i>1633</i>      *                                                                                                                              
</span><span class="outsideLine"><i>1634</i>      * @param acroForm the AcroForm                                                                                                 
</span><span class="outsideLine"><i>1635</i>      * @return true if there is a dynamic XFA form.                                                                                 
</span><span class="outsideLine"><i>1636</i>      */                                                                                                                             
</span><span class="outsideLine"><i>1637</i>     private boolean isDynamicXfa(PDAcroForm acroForm)                                                                               
</span><span class="methodLine"><i>1638</i>     <span class="RemoveMethod tooltip"><span class="tooltiptext">Mutated Text: {
    return false;
}
 
Mutation Operator Type: RemoveMethod 
Node ID: 1417</span>{</span>                                                                                                                               
</span><span class="methodLine"><i>1639</i>         return <span class="RemoveNullCheck tooltip"><span class="tooltiptext">Mutated Text: true 
Mutation Operator Type: RemoveNullCheck 
Node ID: 3588</span>acroForm <span class="RelationalOperatorReplacement tooltip"><span class="tooltiptext">Mutated Text: == 
Mutation Operator Type: RelationalOperatorReplacement 
Node ID: 3588</span>!=</span> null</span> <span class="ConditionalOperatorReplacement tooltip"><span class="tooltiptext">Mutated Text: || 
Mutation Operator Type: ConditionalOperatorReplacement 
Node ID: 3048</span>&&</span> acroForm.xfaIsDynamic();                                                                         
</span><span class="methodLine"><i>1640</i>     }</span>                                                                                                                               
</span><span class="outsideLine"><i>1641</i>                                                                                                                                     
</span><span class="outsideLine"><i>1642</i>     /**                                                                                                                             
</span><span class="outsideLine"><i>1643</i>      * This will add all of the dictionaries keys/values to this dictionary, but                                                    
</span><span class="outsideLine"><i>1644</i>      * only if they are not in an exclusion list and if they don't already                                                          
</span><span class="outsideLine"><i>1645</i>      * exist. If a key already exists in this dictionary then nothing is                                                            
</span><span class="outsideLine"><i>1646</i>      * changed.                                                                                                                     
</span><span class="outsideLine"><i>1647</i>      *                                                                                                                              
</span><span class="outsideLine"><i>1648</i>      * @param src The source dictionary to get the keys/values from.                                                                
</span><span class="outsideLine"><i>1649</i>      * @param dst The destination dictionary to merge the keys/values into.                                                         
</span><span class="outsideLine"><i>1650</i>      * @param exclude Names of keys that shall be skipped.                                                                          
</span><span class="outsideLine"><i>1651</i>      */                                                                                                                             
</span><span class="outsideLine"><i>1652</i>     private void mergeInto(COSDictionary src, COSDictionary dst, Set<COSName> exclude)                                              
</span><span class="methodLine"><i>1653</i>     <span class="RemoveMethod tooltip"><span class="tooltiptext">Mutated Text: {
// void -- no return //
}
 
Mutation Operator Type: RemoveMethod 
Node ID: 1422</span>{</span>                                                                                                                               
</span><span class="methodLine"><i>1654</i>         for (Map.Entry<COSName, COSBase> entry : src.entrySet())                                                                    
</span><span class="methodLine"><i>1655</i>         {                                                                                                                           
</span><span class="methodLine"><i>1656</i>             if (<span class="ConditionalOperatorDeletion tooltip"><span class="tooltiptext">Mutated Text:   
Mutation Operator Type: ConditionalOperatorDeletion 
Node ID: 8113</span>!</span>exclude.contains(entry.getKey()) <span class="ConditionalOperatorReplacement tooltip"><span class="tooltiptext">Mutated Text: || 
Mutation Operator Type: ConditionalOperatorReplacement 
Node ID: 7100</span>&&</span> <span class="ConditionalOperatorDeletion tooltip"><span class="tooltiptext">Mutated Text:   
Mutation Operator Type: ConditionalOperatorDeletion 
Node ID: 8115</span>!</span>dst.containsKey(entry.getKey()))                                              
</span><span class="methodLine"><i>1657</i>             {                                                                                                                       
</span><span class="methodLine"><i>1658</i>                 dst.setItem(entry.getKey(), entry.getValue());                                                                      
</span><span class="methodLine"><i>1659</i>             }                                                                                                                       
</span><span class="methodLine"><i>1660</i>         }                                                                                                                           
</span><span class="methodLine"><i>1661</i>     }</span>                                                                                                                               
</span><span class="outsideLine"><i>1662</i> }                                                                                                                                   
</span><span class="outsideLine"><i>1663</i>                                                                                                                                     </pre></div><footer><p style="font-size: small">Report generated by LittleDarwin 0.10.7 </p></footer></body></html>